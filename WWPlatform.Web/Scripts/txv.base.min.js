/*
Tencent ISD QQLive WebTeam. 
Copyright 1998 - 2011 
2011-6-28 16:25:47.924
*/
window.QZFL = window.QZFL || {};
if (typeof (QZONE) == "object") {
    QZFL = QZONE;
} else {
    window.QZONE = QZFL = {};
}
QZFL.version = "2.0.9.2";
QZFL._qzfl = 2.092;
QZFL.emptyFn = function () { };
QZFL.returnFn = function (v) {
    return v;
};
QZFL.userAgent = (function () {
    var t, _1, _2, _3, _4, _5, _6, _7, _8, _9, _a, _b, _c, _d, _e, _f = navigator.userAgent,
        _10 = navigator.appVersion,
        _11 = /(?:Firefox|GranParadiso|Iceweasel|Minefield).(\d+\.\d+)/i,
        _12 = /AppleWebKit.(\d+\.\d+)/i,
        _13 = /Chrome.(\d+\.\d+)/i,
        _14 = /Version.(\d+\.\d+)/i,
        _15 = /Windows.+?(\d+\.\d+)/,
        _1 = _2 = _3 = _4 = _5 = _6 = _7 = _8 = NaN;
    _9 = _a = _b = _c = _e = false;
    if (window.ActiveXObject) {
        _1 = 9 - ((_10.indexOf("Trident/5.0") > -1) ? 0 : 1) - (window.XDomainRequest ? 0 : 1) - (window.XMLHttpRequest ? 0 : 1);
        t = navigator.appMinorVersion;
        if (_1 > 7 && t && t.toLowerCase().indexOf("beta") > -1) {
            _b = true;
        }
    } else {
        if (document.getBoxObjectFor || typeof (window.mozInnerScreenX) != "undefined") {
            t = _f.match(_11);
            _2 = parseFloat((t && t[1]) || "3.3", 10);
        } else {
            if (!navigator.taintEnabled) {
                t = _f.match(_12);
                _5 = (t && t.length > 1) ? parseFloat(t[1], 10) : (!!document.evaluate ? (!!document.querySelector ? 525 : 420) : 419);
                if ((t = _10.match(_13)) || window.chrome) {
                    if (!t) {
                        t = _f.match(_13);
                    }
                    _7 = parseFloat((t && t[1]) || "2.0", 10);
                }
                if ((t = _10.match(_14)) && !window.chrome) {
                    if (!t) {
                        t = _f.match(_14);
                    }
                    _4 = parseFloat((t && t[1]) || "3.3", 10);
                }
                if (_f.indexOf("AdobeAIR") > -1) {
                    _6 = 1;
                }
                if (_f.indexOf("iPad") > -1) {
                    _c = true;
                }
                if (_f.indexOf("iPhone") > -1) {
                    _d = true;
                }
            } else {
                if (window.opera) {
                    _3 = parseFloat(_10, 10);
                } else {
                    _1 = 6;
                }
            }
        }
    }
    if (_f.indexOf("Windows") > -1) {
        _9 = true;
        t = _f.match(_15);
        _8 = parseFloat((t && t[1]) || "5.1", 10);
    } else {
        if (_f.indexOf("Mac OS X") > -1) {
            _a = true;
        } else {
            _9 = true;
        }
    }

    function _16() {
        if (!_16.adjusted && _1 && _1 < 7) {
            try {
                document.execCommand("BackgroundImageCache", false, true);
            } catch (ignored) { }
            _16.adjusted = true;
        }
    };
    return {
        beta: _b,
        firefox: _2,
        ie: _1,
        opera: _3,
        air: _6,
        safari: _4,
        safariV: _4,
        webkit: _5,
        chrome: _7,
        adjustBehaviors: _16,
        windows: _8 || _9,
        isiPad: _c,
        isiPhone: _d,
        macs: _a
    };
})();
QZFL.object = {
    map: function (_17, _18) {
        _18 = _18 || window;
        QZFL.object.extend(_18, _17);
    },
    extend: function () {
        var _19 = arguments[0] || {},
            i = 1,
            _1a = arguments.length,
            _1b = false,
            _1c, _1d, src, _1e;
        if (typeof _19 === "boolean") {
            _1b = _19;
            _19 = arguments[1] || {};
            i = 2;
        }
        if (typeof _19 !== "object" && QZFL.object.getType(_19) !== "function") {
            _19 = {};
        }
        if (_1a === i) {
            _19 = QZFL;
            --i;
        }
        for (; i < _1a; i++) {
            if ((_1c = arguments[i]) != null) {
                for (_1d in _1c) {
                    src = _19[_1d];
                    _1e = _1c[_1d];
                    if (_19 === _1e) {
                        continue;
                    }
                    if (_1b && _1e && typeof _1e === "object" && !_1e.nodeType) {
                        var _1f;
                        if (src) {
                            _1f = src;
                        } else {
                            if (QZFL.lang.isArray(_1e)) {
                                _1f = [];
                            } else {
                                if (QZFL.object.getType(_1e) === "object") {
                                    _1f = {};
                                } else {
                                    _1f = _1e;
                                }
                            }
                        }
                        _19[_1d] = QZFL.object.extend(_1b, _1f, _1e);
                    } else {
                        if (_1e !== undefined) {
                            _19[_1d] = _1e;
                        }
                    }
                }
            }
        }
        return _19;
    },
    each: function (obj, _20) {
        var _21, _22, i = 0,
            _23 = obj.length,
            _24 = (_23 === undefined) || (typeof (obj) == "function");
        if (_24) {
            for (_21 in obj) {
                if (_20.call(obj[_21], obj[_21], _21, obj) === false) {
                    break;
                }
            }
        } else {
            for (_22 = obj[0]; i < _23 && _20.call(_22, _22, i, obj) !== false; _22 = obj[++i]) { }
        }
        return obj;
    },
    getType: function (obj) {
        return obj === null ? "null" : (obj === undefined ? "undefined" : Object.prototype.toString.call(obj).slice(8, -1).toLowerCase());
    },
    routeRE: /([\d\w_]+)/g,
    route: function (obj, _25) {
        obj = obj || {};
        _25 += "";
        var r = QZFL.object.routeRE,
            m;
        r.lastIndex = 0;
        while ((m = r.exec(_25)) !== null) {
            obj = obj[m[0]];
            if (obj === undefined || obj === null) {
                break;
            }
        }
        return obj;
    },
    bind: function (obj, fn) {
        var _26 = Array.prototype.slice.call(arguments, 2);
        return function () {
            var _27 = obj || this,
                _28 = _26.concat(Array.prototype.slice.call(arguments, 0));
            if (typeof (fn) == "string") {
                if (_27[fn]) {
                    return _27[fn].apply(_27, _28);
                }
            } else {
                return fn.apply(_27, _28);
            }
        };
    }
};
QZFL.console = {
    print: function (msg, _29) {
        window.console && console.log((_29 == 4 ? (new Date() + ":") : "") + msg);
    }
};
QZFL.runTime = {
    isDebugMode: false,
    error: QZFL.emptyFn,
    warn: QZFL.emptyFn
};
QZFL.widget = {};
QZFL.namespace = QZFL.object;
QZFL.config = {
    debugLevel: 0,
    defaultDataCharacterSet: "GB2312",
    DCCookieDomain: "qzone.qq.com",
    domainPrefix: "qq.com",
    gbEncoderPath: "http://imgcache.qq.com/qzone/v5/toolpages/",
    FSHelperPage: "http://imgcache.qq.com/qzone/v5/toolpages/fp_gbk.html",
    defaultShareObject: "http://imgcache.qq.com/qzone/v5/toolpages/getset.swf",
    staticServer: "http://imgcache.qq.com/ac/qzone/qzfl/lc/"
};
QZFL.string = {
    RegExps: {
        trim: /^\s+|\s+$/g,
        ltrim: /^\s+/,
        rtrim: /\s+$/,
        nl2br: /\n/g,
        s2nb: /[\x20]{2}/g,
        URIencode: /[\x09\x0A\x0D\x20\x21-\x29\x2B\x2C\x2F\x3A-\x3F\x5B-\x5E\x60\x7B-\x7E]/g,
        escHTML: {
            re_amp: /&/g,
            re_lt: /</g,
            re_gt: />/g,
            re_apos: /\x27/g,
            re_quot: /\x22/g
        },
        escString: {
            bsls: /\\/g,
            nl: /\n/g,
            rt: /\r/g,
            tab: /\t/g
        },
        restXHTML: {
            re_amp: /&amp;/g,
            re_lt: /&lt;/g,
            re_gt: /&gt;/g,
            re_apos: /&(?:apos|#0?39);/g,
            re_quot: /&quot;/g
        },
        write: /\{(\d{1,2})(?:\:([xodQqb]))?\}/g,
        isURL: /^(?:ht|f)tp(?:s)?\:\/\/(?:[\w\-\.]+)\.\w+/i,
        cut: /[\x00-\xFF]/,
        getRealLen: {
            r0: /[^\x00-\xFF]/g,
            r1: /[\x00-\xFF]/g
        },
        format: /\{([\d\w\.]+)\}/g
    },
    commonReplace: function (s, p, r) {
        return s.replace(p, r);
    },
    listReplace: function (s, l) {
        if (QZFL.lang.isHashMap(l)) {
            for (var i in l) {
                s = QZFL.string.commonReplace(s, l[i], i);
            }
            return s;
        } else {
            return s + "";
        }
    },
    trim: function (str) {
        return QZFL.string.commonReplace(str + "", QZFL.string.RegExps.trim, "");
    },
    ltrim: function (str) {
        return QZFL.string.commonReplace(str + "", QZFL.string.RegExps.ltrim, "");
    },
    rtrim: function (str) {
        return QZFL.string.commonReplace(str + "", QZFL.string.RegExps.rtrim, "");
    },
    nl2br: function (str) {
        return QZFL.string.commonReplace(str + "", QZFL.string.RegExps.nl2br, "<br />");
    },
    s2nb: function (str) {
        return QZFL.string.commonReplace(str + "", QZFL.string.RegExps.s2nb, "&nbsp;&nbsp;");
    },
    URIencode: function (str) {
        var cc, ccc;
        return (str + "").replace(QZFL.string.RegExps.URIencode, function (a) {
            if (a == " ") {
                return "+";
            } else {
                if (a == "\r") {
                    return "";
                }
            }
            cc = a.charCodeAt(0);
            ccc = cc.toString(16);
            return "%" + ((cc < 16) ? ("0" + ccc) : ccc);
        });
    },
    escHTML: function (str) {
        var t = QZFL.string.RegExps.escHTML;
        return QZFL.string.listReplace((str + ""), {
            "&amp;": t.re_amp,
            "&lt;": t.re_lt,
            "&gt;": t.re_gt,
            "&#039;": t.re_apos,
            "&quot;": t.re_quot
        });
    },
    escString: function (str) {
        var t = QZFL.string.RegExps.escString,
            h = QZFL.string.RegExps.escHTML;
        return QZFL.string.listReplace((str + ""), {
            "\\\\": t.bsls,
            "\\n": t.nl,
            "": t.rt,
            "\\t": t.tab,
            "\\'": h.re_apos,
            "\\\"": h.re_quot
        });
    },
    restHTML: function (str) {
        if (!QZFL.string.restHTML.__utilDiv) {
            QZFL.string.restHTML.__utilDiv = document.createElement("div");
        }
        var t = QZFL.string.restHTML.__utilDiv;
        t.innerHTML = (str + "");
        if (typeof (t.innerText) != "undefined") {
            return t.innerText;
        } else {
            if (typeof (t.textContent) != "undefined") {
                return t.textContent;
            } else {
                if (typeof (t.text) != "undefined") {
                    return t.text;
                } else {
                    return "";
                }
            }
        }
    },
    restXHTML: function (str) {
        var t = QZFL.string.RegExps.restXHTML;
        return QZFL.string.listReplace((str + ""), {
            "<": t.re_lt,
            ">": t.re_gt,
            "'": t.re_apos,
            "\"": t.re_quot,
            "&": t.re_amp
        });
    },
    write: function (_2a, _2b) {
        if (arguments.length < 1 || !QZFL.lang.isString(_2a)) {
            return "";
        }
        var _2c = QZFL.lang.arg2arr(arguments),
            _2d = _2c.shift(),
            tmp;
        return _2d.replace(QZFL.string.RegExps.write, function (a, b, c) {
            b = parseInt(b, 10);
            if (b < 0 || (typeof _2c[b] == "undefined")) {
                return "(n/a)";
            } else {
                if (!c) {
                    return _2c[b];
                } else {
                    switch (c) {
                        case "x":
                            return "0x" + _2c[b].toString(16);
                        case "o":
                            return "o" + _2c[b].toString(8);
                        case "d":
                            return _2c[b].toString(10);
                        case "Q":
                            return "\"" + _2c[b].toString(16) + "\"";
                        case "q":
                            return "`" + _2c[b].toString(16) + "'";
                        case "b":
                            return "<" + !!_2c[b] + ">";
                    }
                }
            }
        });
    },
    isURL: function (s) {
        return QZFL.string.RegExps.isURL.test(s);
    },
    customEncode: function (s, _2e) {
        var r;
        if (typeof _2e == "undefined") {
            _2e = "";
        }
        switch (_2e.toUpperCase()) {
            case "URICPT":
                r = encodeURIComponent(s);
                break;
            default:
                r = encodeURIComponent(s);
        }
        return r;
    },
    escapeURI: function (s) {
        if (window.encodeURIComponent) {
            return encodeURIComponent(s);
        }
        if (window.escape) {
            return escape(s);
        }
        return "";
    },
    fillLength: function (_2f, _30, ch, _31) {
        _2f = _2f + "";
        if (_2f.length < _30) {
            var res = (1 << (_30 - _2f.length)).toString(2).substring(1);
            if (ch) {
                res = res.replace("0", ch);
            }
            return _31 ? (_2f + res) : (res + _2f);
        } else {
            return _2f;
        }
    },
    cut: function (str, _32, _33) {
        str += "";
        _32 -= 0;
        _33 = _33 || "";
        if (isNaN(_32)) {
            return str;
        }
        var len = str.length,
            i = Math.min(Math.floor(_32 / 2), len),
            cnt = QZFL.string.getRealLen(str.slice(0, i));
        for (; i < len && cnt < _32; i++) {
            cnt += 1 + !QZFL.string.RegExps.cut.test(str.charAt(i));
        }
        return str.slice(0, cnt > _32 ? i - 1 : i) + (i < len ? _33 : "");
    },
    getRealLen: function (s, _34) {
        if (typeof (s) != "string") {
            return 0;
        }
        if (!_34) {
            return s.replace(QZFL.string.RegExps.getRealLen.r0, "**").length;
        } else {
            var cc = s.replace(QZFL.string.RegExps.getRealLen.r1, "");
            return (s.length - cc.length) + (encodeURI(cc).length / 3);
        }
    },
    format: function (str) {
        var _35 = Array.prototype.slice.call(arguments),
            v;
        str = _35.shift() + "";
        if (_35.length == 1 && typeof (_35[0]) == "object") {
            _35 = _35[0];
        }
        QZFL.string.RegExps.format.lastIndex = 0;
        return str.replace(QZFL.string.RegExps.format, function (m, n) {
            v = QZFL.object.route(_35, n);
            return v === undefined ? m : v;
        });
    }
};
QZFL.css = {
    classNameCache: {},
    getClassRegEx: function (_36) {
        var o = QZFL.css.classNameCache;
        return o[_36] || (o[_36] = new RegExp("(?:^|\\s+)" + _36 + "(?:\\s+|$)"));
    },
    convertHexColor: function (_37) {
        var p = "0x";
        _37 = (_37 || "").toString();
        _37.charAt(0) == "#" && (_37 = _37.substring(1));
        _37.length == 3 && (_37 = _37.replace(/([0-9a-f])/ig, "$1$1"));
        return _37.length == 6 ? [p + _37.substr(0, 2) - 0, p + _37.substr(2, 2) - 0, p + _37.substr(4, 2) - 0] : [0, 0, 0];
    },
    styleSheets: {},
    getStyleSheetById: function (id) {
        var s;
        return (s = QZFL.dom.get(id)) && s.sheet || (s = document.styleSheets) && s[id];
    },
    getRulesBySheet: function (_38) {
        var ss = typeof (_38) == "object" ? _38 : QZFL.css.getStyleSheetById(_38),
            rs = {},
            _39, _3a;
        if (ss && !(rs = ss.cssRules || ss.rules)) {
            if (_39 = document.getElementsByTagName("head")[0]) {
                if (_3a = _39.getElementsByTagName("base")[0]) {
                    QZFL.dom.removeElement(_3a);
                    rs = ss.cssRules;
                    _39.appendChild(_3a);
                }
            }
        }
        return rs;
    },
    getRuleBySelector: function (_3b, _3c) {
        var _3d = QZFL.css.getStyleSheetById(_3b),
            _3e = QZFL.css.getRulesBySheet(_3d);
        if (!_3e) {
            return null;
        }
        _3c = (_3c + "").toLowerCase();
        !_3d.cacheSelector && (_3d.cacheSelector = {});
        var _3f = _3d.cacheSelector[_3c];
        if (_3f && _3e[_3f] && _3c == (_3e[_3f].selectorText + "").toLowerCase()) {
            return _3e[_3f];
        }
        for (var i = 0, len = _3e.length; i < len; i++) {
            if (_3c == (_3e[i].selectorText + "").toLowerCase()) {
                _3d.cacheSelector[_3c] = i;
                return _3e[i];
            }
        }
        return null;
    },
    insertCSSLink: function (url, id) {
        var doc = document,
            _40 = (_40 = $(id)) && _40.nodeName == "LINK" ? _40 : null,
            _41 = doc.getElementsByTagName("head")[0];
        if (!_40) {
            _40 = doc.createElement("link");
            id && (_40.id = id);
            _40.rel = "stylesheet";
            _40.rev = "stylesheet";
            _40.type = "text/css";
            _40.media = "screen";
            _41.appendChild(_40);
        }
        url && (_40.href = url);
        return _40.sheet || _40;
    },
    insertStyleSheet: function (_42, _43) {
        var _44 = document.createElement("style");
        _44.type = "text/css";
        _42 && (_44.id = _42);
        document.getElementsByTagName("head")[0].appendChild(_44);
        if (_43) {
            if (_44.styleSheet) {
                _44.styleSheet.cssText = _43;
            } else {
                _44.appendChild(document.createTextNode(_43));
            }
        }
        return _44.sheet || _44;
    },
    removeStyleSheet: function (id) {
        var _45 = QZFL.css.getStyleSheetById(id);
        _45 && QZFL.dom.removeElement(_45.owningElement || _45.ownerNode);
    },
    updateClassName: function (_46, _47, _48) {
        if (!_46 || _46.nodeType != 1) {
            return;
        }
        var _49 = _46.className;
        if (_47 && typeof (_47) == "string" || _48 && typeof (_48) == "string") {
            if (_47 == "*") {
                _49 = "";
            } else {
                var ar = _49.split(" "),
                    i = 0,
                    k, l = ar.length,
                    n, b;
                _49 = {};
                for (; i < l; i++) {
                    ar[i] && (_49[ar[i]] = true);
                }
                if (_48) {
                    ar = _48.split(" ");
                    l = ar.length;
                    for (i = 0; i < l; i++) {
                        (n = ar[i]) && !_49[n] && (b = _49[n] = true);
                    }
                }
                if (_47) {
                    ar = _47.split(" ");
                    l = ar.length;
                    for (i = 0; i < l; i++) {
                        (n = ar[i]) && _49[n] && (b = true) && delete _49[n];
                    }
                }
                ar.length = 0;
                for (var k in _49) {
                    ar.push(k);
                }
                _49 = ar.join(" ");
            }
            if (b) {
                _46.className = _49;
            }
        }
        return _49;
    },
    hasClassName: function (_4a, _4b) {
        return _4a && (_4a = _4a.className) && _4b && ((" " + _4a + " ").indexOf(" " + _4b + " ") + 1);
    },
    addClassName: function (_4c, _4d) {
        QZFL.css.updateClassName(_4c, null, _4d);
    },
    removeClassName: function (_4e, _4f) {
        QZFL.css.updateClassName(_4e, _4f);
    },
    replaceClassName: function (_50, a, b) {
        QZFL.css.swapClassName(_50, a, b, true);
    },
    swapClassName: function (_51, a, b, _52) {
        if (_51) {
            if (_51.constructor != Array) {
                _51 = [_51];
            }
            for (var _53, i = 0, l = _51.length; i < l; i++) {
                if ((_53 = _51[i]) && _53.nodeType == 1) {
                    if (QZFL.css.hasClassName(_53, a)) {
                        QZFL.css.updateClassName(_53, a, b);
                    } else {
                        if (!_52 && QZFL.css.hasClassName(_53, b)) {
                            QZFL.css.updateClassName(_53, b, a);
                        }
                    }
                }
            }
        }
    },
    toggleClassName: function (_54, _55) {
        if (!_54 || _54.nodeType != 1) {
            return;
        }
        if (QZFL.css.hasClassName(_54, _55)) {
            QZFL.css.updateClassName(_54, _55);
        } else {
            QZFL.css.updateClassName(_54, null, _55);
        }
    }
};
QZFL.dom = {
    getById: function (id) {
        return document.getElementById(id);
    },
    getByName: function (_56, _57, rt) {
        return QZFL.selector((_57 || "") + "[name=\"" + _56 + "\"]", rt);
    },
    get: function (e) {
        return (typeof (e) == "string") ? document.getElementById(e) : e;
    },
    getNode: function (e) {
        return (e && (e.nodeType || e.item)) ? e : ((typeof (e) == "string") ? document.getElementById(e) : null);
    },
    removeElement: function (el) {
        if (typeof (el) == "string") {
            el = document.getElementById(el);
        }
        if (!el) {
            return;
        }
        if (el.removeNode) {
            el.removeNode(true);
        } else {
            if (el.parentNode) {
                el.parentNode.removeChild(el);
            }
        }
        el = null;
        return null;
    },
    searchElementByClassName: function (el, _58) {
        el = QZFL.dom.get(el);
        if (!el) {
            return null;
        }
        var re = QZFL.css.getClassRegEx(_58);
        while (el) {
            if (re.test(el.className)) {
                return el;
            }
            el = el.parentNode;
        }
        return null;
    },
    getElementsByClassName: function (_59, tag, _5a) {
        return QZFL.selector((tag || "") + "." + _59, _5a);
    },
    isAncestor: function (_5b, _5c) {
        if (!_5b || !_5c) {
            return false;
        }
        if (_5b.contains && _5c.nodeType && !QZFL.userAgent.webkit) {
            return _5b.contains(_5c) && _5b != _5c;
        }
        if (_5b.compareDocumentPosition && _5c.nodeType) {
            return !!(_5b.compareDocumentPosition(_5c) & 16);
        } else {
            if (_5c.nodeType) {
                return !!QZFL.dom.getAncestorBy(_5c, function (el) {
                    return el == _5b;
                });
            }
        }
        return false;
    },
    getAncestorBy: function (_5d, _5e) {
        while (_5d = _5d.parentNode) {
            if (_5d && _5d.nodeType == 1 && (!_5e || _5e(_5d))) {
                return _5d;
            }
        }
        return null;
    },
    getFirstChild: function (_5f) {
        _5f = QZFL.dom.getNode(_5f);
        if (!_5f) {
            return null;
        }
        var _60 = !!_5f.firstChild && _5f.firstChild.nodeType == 1 ? _5f.firstChild : null;
        return _60 || QZFL.dom.getNextSibling(_5f.firstChild);
    },
    getNextSibling: function (_61) {
        _61 = QZFL.dom.getNode(_61);
        if (!_61) {
            return null;
        }
        while (_61) {
            _61 = _61.nextSibling;
            if (!!_61 && _61.nodeType == 1) {
                return _61;
            }
        }
        return null;
    },
    getPreviousSibling: function (_62) {
        _62 = QZFL.dom.getNode(_62);
        if (!_62) {
            return null;
        }
        while (_62) {
            _62 = _62.previousSibling;
            if (!!_62 && _62.nodeType == 1) {
                return _62;
            }
        }
        return null;
    },
    swapNode: function (_63, _64) {
        if (_63.swapNode) {
            _63.swapNode(_64);
        } else {
            var prt = _64.parentNode,
                _65 = _64.nextSibling;
            if (_65 == _63) {
                prt.insertBefore(_63, _64);
            } else {
                if (_64 == _63.nextSibling) {
                    prt.insertBefore(_64, _63);
                } else {
                    _63.parentNode.replaceChild(_64, _63);
                    prt.insertBefore(_63, _65);
                }
            }
        }
    },
    createElementIn: function (_66, el, _67, _68) {
        var _66 = _66 || "div",
            el = QZFL.dom.get(el) || document.body,
            _69 = el.ownerDocument,
            _6a = _69.createElement(_66);
        if (_68) {
            for (var k in _68) {
                if (k == "class") {
                    _6a.className = _68[k];
                } else {
                    if (k == "style") {
                        _6a.style.cssText = _68[k];
                    } else {
                        _6a[k] = _68[k];
                    }
                }
            }
        }
        if (_67) {
            el.insertBefore(_6a, el.firstChild);
        } else {
            el.appendChild(_6a);
        }
        return _6a;
    },
    getStyle: function (el, _6b) {
        el = QZFL.dom.get(el);
        if (!el || el.nodeType == 9) {
            return null;
        }
        var _6c = document.defaultView && document.defaultView.getComputedStyle,
            _6d = !_6c ? null : document.defaultView.getComputedStyle(el, ""),
            _6e = "";
        switch (_6b) {
            case "float":
                _6b = _6c ? "cssFloat" : "styleFloat";
                break;
            case "opacity":
                if (!_6c) {
                    var val = 100;
                    try {
                        val = el.filters["DXImageTransform.Microsoft.Alpha"].opacity;
                    } catch (e) {
                        try {
                            val = el.filters("alpha").opacity;
                        } catch (e) { }
                    }
                    return val / 100;
                } else {
                    return parseFloat((_6d || el.style)[_6b]);
                }
                break;
            case "backgroundPositionX":
                if (_6c) {
                    _6b = "backgroundPosition";
                    return ((_6d || el.style)[_6b]).split(" ")[0];
                }
                break;
            case "backgroundPositionY":
                if (_6c) {
                    _6b = "backgroundPosition";
                    return ((_6d || el.style)[_6b]).split(" ")[1];
                }
                break;
        }
        if (_6c) {
            return (_6d || el.style)[_6b];
        } else {
            return (el.currentStyle[_6b] || el.style[_6b]);
        }
    },
    setStyle: function (el, _6f, _70) {
        if (!(el = QZFL.dom.get(el)) || el.nodeType != 1) {
            return false;
        }
        var tmp, _71 = true,
            _72 = (tmp = document.defaultView) && tmp.getComputedStyle,
            _73 = /z-?index|font-?weight|opacity|zoom|line-?height/i;
        if (typeof (_6f) == "string") {
            tmp = _6f;
            _6f = {};
            _6f[tmp] = _70;
        }
        for (var _74 in _6f) {
            _70 = _6f[_74];
            if (_74 == "float") {
                _74 = _72 ? "cssFloat" : "styleFloat";
            } else {
                if (_74 == "opacity") {
                    if (!_72) {
                        _74 = "filter";
                        _70 = _70 >= 1 ? "" : ("alpha(opacity=" + Math.round(_70 * 100) + ")");
                    }
                } else {
                    if (_74 == "backgroundPositionX" || _74 == "backgroundPositionY") {
                        tmp = _74.slice(-1) == "X" ? "Y" : "X";
                        if (_72) {
                            var v = QZFL.dom.getStyle(el, "backgroundPosition" + tmp);
                            _74 = "backgroundPosition";
                            typeof (_70) == "number" && (_70 = _70 + "px");
                            _70 = tmp == "Y" ? (_70 + " " + (v || "top")) : ((v || "left") + " " + _70);
                        }
                    }
                }
            }
            if (typeof el.style[_74] != "undefined") {
                el.style[_74] = _70 + (typeof _70 === "number" && !_73.test(_74) ? "px" : "");
                _71 = _71 && true;
            } else {
                _71 = _71 && false;
            }
        }
        return _71;
    },
    createNamedElement: function (_75, _76, doc) {
        var _77 = doc || document,
            _78;
        try {
            _78 = _77.createElement("<" + _75 + " name=\"" + _76 + "\">");
        } catch (ign) { }
        if (!_78) {
            _78 = _77.createElement(_75);
        }
        if (!_78.name) {
            _78.name = _76;
        }
        return _78;
    },
    getPosition: function (el) {
        var xy = QZFL.dom.getXY(el),
            _79 = QZFL.dom.getSize(el);
        return {
            "top": xy[1],
            "left": xy[0],
            "width": _79[0],
            "height": _79[1]
        };
    },
    setPosition: function (el, pos) {
        QZFL.dom.setXY(el, pos["left"], pos["top"]);
        QZFL.dom.setSize(el, pos["width"], pos["height"]);
    },
    getXY: function (el, doc) {
        var _7a = 0,
            _7b = 0,
            _7c = doc || document;
        if (el) {
            if (_7c.documentElement.getBoundingClientRect && el.getBoundingClientRect) {
                var box = el.getBoundingClientRect(),
                    _7d = el.ownerDocument,
                    _7e = QZFL.userAgent.ie ? 2 : 0;
                _7a = box.top - _7e + QZFL.dom.getScrollTop(_7d);
                _7b = box.left - _7e + QZFL.dom.getScrollLeft(_7d);
            } else {
                while (el.offsetParent) {
                    _7a += el.offsetTop;
                    _7b += el.offsetLeft;
                    el = el.offsetParent;
                }
            }
        }
        return [_7b, _7a];
    },
    getSize: function (el) {
        var _7f = [0, 0];
        if (el) {
            QZFL.object.each(["Left", "Right", "Top", "Bottom"], function (v) {
                _7f[v == "Left" || v == "Right" ? 0 : 1] += (parseInt(QZFL.dom.getStyle(el, "border" + v + "Width"), 10) || 0) + (parseInt(QZFL.dom.getStyle(el, "padding" + v), 10) || 0);
            });
            var _80 = el.offsetWidth - _7f[0],
                _81 = el.offsetHeight - _7f[1];
            return [_80, _81];
        }
        return [-1, -1];
    },
    setXY: function (el, x, y) {
        el = QZFL.dom.get(el);
        var _82 = parseInt(QZFL.dom.getStyle(el, "marginLeft")) || 0,
            _83 = parseInt(QZFL.dom.getStyle(el, "marginTop")) || 0;
        QZFL.dom.setStyle(el, "left", parseInt(x) - _82 + "px");
        QZFL.dom.setStyle(el, "top", parseInt(y) - _83 + "px");
    },
    getScrollLeft: function (doc) {
        var _84 = doc || document;
        return Math.max(_84.documentElement.scrollLeft, _84.body.scrollLeft);
    },
    getScrollTop: function (doc) {
        var _85 = doc || document;
        return Math.max(_85.documentElement.scrollTop, _85.body.scrollTop);
    },
    getScrollHeight: function (doc) {
        var _86 = doc || document;
        return Math.max(_86.documentElement.scrollHeight, _86.body.scrollHeight);
    },
    getScrollWidth: function (doc) {
        var _87 = doc || document;
        return Math.max(_87.documentElement.scrollWidth, _87.body.scrollWidth);
    },
    setScrollLeft: function (_88, doc) {
        var _89 = doc || document;
        _89[_89.compatMode == "CSS1Compat" && !QZFL.userAgent.webkit ? "documentElement" : "body"].scrollLeft = _88;
    },
    setScrollTop: function (_8a, doc) {
        var _8b = doc || document;
        _8b[_8b.compatMode == "CSS1Compat" && !QZFL.userAgent.webkit ? "documentElement" : "body"].scrollTop = _8a;
    },
    getClientHeight: function (doc) {
        var _8c = doc || document;
        return _8c.compatMode == "CSS1Compat" ? _8c.documentElement.clientHeight : _8c.body.clientHeight;
    },
    getClientWidth: function (doc) {
        var _8d = doc || document;
        return _8d.compatMode == "CSS1Compat" ? _8d.documentElement.clientWidth : _8d.body.clientWidth;
    },
    _SET_SIZE_RE: /^\d+(?:\.\d*)?(px|%|em|in|cm|mm|pc|pt)?$/,
    setSize: function (el, w, h) {
        el = QZFL.dom.get(el);
        var _8e = QZFL.dom._SET_SIZE_RE,
            m;
        QZFL.dom.setStyle(el, "width", (m = _8e.exec(w)) ? (m[1] ? w : (parseInt(w, 10) + "px")) : "auto");
        QZFL.dom.setStyle(el, "height", (m = _8e.exec(h)) ? (m[1] ? h : (parseInt(h, 10) + "px")) : "auto");
    },
    getDocumentWindow: function (doc) {
        var _8f = doc || document;
        return _8f.parentWindow || _8f.defaultView;
    },
    getElementsByTagNameNS: function (_90, ns, tgn) {
        var res = [];
        if (_90) {
            if (_90.getElementsByTagNameNS) {
                return _90.getElementsByTagName(ns + ":" + tgn);
            } else {
                if (_90.getElementsByTagName) {
                    var n = document.namespaces;
                    if (n.length > 0) {
                        var l = _90.getElementsByTagName(tgn);
                        for (var i = 0, len = l.length; i < len; ++i) {
                            if (l[i].scopeName == ns) {
                                res.push(l[i]);
                            }
                        }
                    }
                }
            }
        }
        return res;
    },
    collection2Array: function (_91) {
        if (QZFL.lang.isArray(_91)) {
            return _91;
        } else {
            var r = [];
            for (var i = 0, len = _91.length; i < len; ++i) {
                r.push(_91[i]);
            }
        }
        return r;
    },
    getElementByTagNameBubble: function (a, tn) {
        if (!isNode(a)) {
            return null;
        }
        tn += "";
        var _92 = 31;
        while (a && a.tagName && (a.tagName != tn.toUpperCase())) {
            if (a == document.body || (--_92) < 0) {
                return null;
            }
            a = a.parentNode;
        }
        return a;
    }
};
QZFL.util = {
    buildUri: function (s) {
        return new QZFL.util.URI(s);
    },
    URI: function (s) {
        if (!(QZFL.object.getType(s) == "string")) {
            return null;
        }
        if (s.indexOf("://") < 1) {
            s = location.protocol + "//" + location.host + (s.indexOf("/") == 0 ? "" : location.pathname.substr(0, location.pathname.lastIndexOf("/") + 1)) + s;
        }
        var _93 = s.split("://");
        if (QZFL.object.getType(_93) == "array" && _93.length > 1 && (/^[a-zA-Z]+$/).test(_93[0])) {
            this.protocol = _93[0].toLowerCase();
            var h = _93[1].split("/");
            if (QZFL.object.getType(h) == "array") {
                this.host = h[0];
                this.pathname = "/" + h.slice(1).join("/").replace(/(\?|\#).+/i, "");
                this.href = s;
                var se = _93[1].lastIndexOf("?"),
                    ha = _93[1].lastIndexOf("#");
                this.search = (se >= 0) ? _93[1].substring(se) : "";
                this.hash = (ha >= 0) ? _93[1].substring(ha) : "";
                if (this.search.length > 0 && this.hash.length > 0) {
                    if (ha < se) {
                        this.search = "";
                    } else {
                        this.search = _93[1].substring(se, ha);
                    }
                }
                return this;
            } else {
                return null;
            }
        } else {
            return null;
        }
    }
};
QZFL.lang = {
    isString: function (o) {
        return QZFL.object.getType(o) == "string";
    },
    isArray: function (o) {
        return QZFL.object.getType(o) == "array";
    },
    isFunction: function (o) {
        return QZFL.object.getType(o) == "function";
    },
    isHashMap: function (o) {
        return QZFL.object.getType(o) == "object";
    },
    isNode: function (o) {
        if (typeof (Node) == "undefined") {
            Node = null;
        }
        try {
            if (!o || !((Node != undefined && o instanceof Node) || o.nodeName)) {
                return false;
            }
        } catch (ignored) {
            return false;
        }
        return true;
    },
    isElement: function (o) {
        return o && o.nodeType == 1;
    }
};
QZFL.queue = (function () {
    var _94 = QZFL.object;
    var _95 = {};
    var _96 = function (key, _97) {
        if (this instanceof arguments.callee) {
            this._qz_queuekey = key;
            return this;
        }
        if (_94.getType(_97 = _97 || []) == "array") {
            _95[key] = _97;
        }
        return new _96(key);
    };
    var _98 = {
        push: function (key, fn) {
            fn = this._qz_queuekey ? key : fn;
            _95[this._qz_queuekey || key].push(fn);
        },
        shift: function (key) {
            var _99 = _95[this._qz_queuekey || key];
            if (_99) {
                return QZFL.queue._exec(_99.shift());
            }
        },
        getLen: function (key) {
            return _95[this._qz_queuekey || key].length;
        },
        run: function (key) {
            var _9a = _95[this._qz_queuekey || key];
            if (_9a) {
                _94.each(_9a, QZFL.queue._exec);
            }
        },
        timedChunk: function (key, _9b) {
            var _9c = _95[this._qz_queuekey || key],
                _9d;
            if (_9c) {
                _9d = QZFL.lang.propertieCopy(_9b, QZFL.queue._tcCof, null, true);
                setTimeout(function () {
                    var _9e = +new Date();
                    do {
                        QZFL.queue.shift(key);
                    } while (QZFL.queue.getLen(key) > 0 && (+new Date() - _9e < _9d.runTime));
                    if (QZFL.queue.getLen(key) > 0) {
                        setTimeout(arguments.callee, _9d.waitTime);
                        _9d.onWait();
                    } else {
                        _9d.onRunEnd();
                    }
                }, 0);
            }
        },
        _tcCof: {
            "runTime": 50,
            "waitTime": 25,
            "onRunEnd": QZFL.emptyFn,
            "onWait": QZFL.emptyFn
        },
        _exec: function (_9f, key, _a0) {
            if (!_9f || _94.getType(_9f) != "function") {
                if (_94.getType(key) == "number") {
                    _a0[key] = null;
                }
                return false;
            }
            try {
                return _9f();
            } catch (e) {
                QZFL.console.print("QZFL Queue Got An Error: [" + e.name + "]  " + e.message, 1);
            }
        }
    };
    _94.extend(_96.prototype, _98);
    _94.extend(_96, _98);
    return _96;
})();
QZFL.event = {
    KEYS: {
        BACKSPACE: 8,
        TAB: 9,
        RETURN: 13,
        ESC: 27,
        SPACE: 32,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        DELETE: 46
    },
    _eventListDictionary: {},
    _fnSeqUID: 0,
    _objSeqUID: 0,
    addEvent: function (obj, _a1, fn, _a2) {
        var cfn, res = false,
            l;
        if (!obj) {
            return res;
        }
        if (!obj.eventsListUID) {
            obj.eventsListUID = "e" + (++QZFL.event._objSeqUID);
        }
        if (!(l = QZFL.event._eventListDictionary[obj.eventsListUID])) {
            l = QZFL.event._eventListDictionary[obj.eventsListUID] = {};
        }
        if (!fn.__elUID) {
            fn.__elUID = "e" + (++QZFL.event._fnSeqUID) + obj.eventsListUID;
        }
        if (!l[_a1]) {
            l[_a1] = {};
        }
        if (typeof (l[_a1][fn.__elUID]) == "function") {
            return false;
        }
        cfn = function (evt) {
            return fn.apply(obj, !_a2 ? [QZFL.event.getEvent(evt)] : ([QZFL.event.getEvent(evt)]).concat(_a2));
        };
        if (obj.addEventListener) {
            obj.addEventListener(_a1, cfn, false);
            res = true;
        } else {
            if (obj.attachEvent) {
                res = obj.attachEvent("on" + _a1, cfn);
            } else {
                res = false;
            }
        }
        if (res) {
            l[_a1][fn.__elUID] = cfn;
        }
        return res;
    },
    removeEvent: function (obj, _a3, fn) {
        var cfn = fn,
            res = false,
            l = QZFL.event._eventListDictionary,
            r;
        if (!obj) {
            return res;
        }
        if (!fn) {
            return QZFL.event.purgeEvent(obj, _a3);
        }
        if (obj.eventsListUID && l[obj.eventsListUID]) {
            l = l[obj.eventsListUID][_a3];
            if (l && l[fn.__elUID]) {
                cfn = l[fn.__elUID];
                r = l;
            }
        }
        if (obj.removeEventListener) {
            obj.removeEventListener(_a3, cfn, false);
            res = true;
        } else {
            if (obj.detachEvent) {
                obj.detachEvent("on" + _a3, cfn);
                res = true;
            } else {
                return false;
            }
        }
        if (res && r && r[fn.__elUID]) {
            delete r[fn.__elUID];
        }
        return res;
    },
    purgeEvent: function (obj, _a4) {
        var l;
        if (obj.eventsListUID && (l = QZFL.event._eventListDictionary[obj.eventsListUID]) && l[_a4]) {
            for (var k in l[_a4]) {
                if (obj.removeEventListener) {
                    obj.removeEventListener(_a4, l[_a4][k], false);
                } else {
                    if (obj.detachEvent) {
                        obj.detachEvent("on" + _a4, l[_a4][k]);
                    }
                }
            }
        }
        if (obj["on" + _a4]) {
            obj["on" + _a4] = null;
        }
        if (l) {
            l[_a4] = null;
            delete l[_a4];
        }
        return true;
    },
    getEvent: function (evt) {
        var evt = window.event || evt,
            c, cnt;
        if (!evt && window.Event) {
            c = arguments.callee;
            cnt = 0;
            while (c) {
                if ((evt = c.arguments[0]) && typeof (evt.srcElement) != "undefined") {
                    break;
                } else {
                    if (cnt > 9) {
                        break;
                    }
                }
                c = c.caller;
                ++cnt;
            }
        }
        return evt;
    },
    getButton: function (evt) {
        var e = QZFL.event.getEvent(evt);
        if (!e) {
            return -1;
        }
        if (QZFL.userAgent.ie) {
            return e.button - Math.ceil(e.button / 2);
        } else {
            return e.button;
        }
    },
    getTarget: function (evt) {
        var e = QZFL.event.getEvent(evt);
        if (e) {
            return e.srcElement || e.target;
        } else {
            return null;
        }
    },
    getCurrentTarget: function (evt) {
        var e = QZFL.event.getEvent(evt);
        if (e) {
            return e.currentTarget || document.activeElement;
        } else {
            return null;
        }
    },
    cancelBubble: function (evt) {
        evt = QZFL.event.getEvent(evt);
        if (!evt) {
            return false;
        }
        if (evt.stopPropagation) {
            evt.stopPropagation();
        } else {
            if (!evt.cancelBubble) {
                evt.cancelBubble = true;
            }
        }
    },
    preventDefault: function (evt) {
        evt = QZFL.event.getEvent(evt);
        if (!evt) {
            return false;
        }
        if (evt.preventDefault) {
            evt.preventDefault();
        } else {
            evt.returnValue = false;
        }
    },
    mouseX: function (evt) {
        evt = QZFL.event.getEvent(evt);
        return evt.pageX || (evt.clientX + (document.documentElement.scrollLeft || document.body.scrollLeft));
    },
    mouseY: function (evt) {
        evt = QZFL.event.getEvent(evt);
        return evt.pageY || (evt.clientY + (document.documentElement.scrollTop || document.body.scrollTop));
    },
    getRelatedTarget: function (ev) {
        ev = QZFL.event.getEvent(ev);
        var t = ev.relatedTarget;
        if (!t) {
            if (ev.type == "mouseout") {
                t = ev.toElement;
            } else {
                if (ev.type == "mouseover") {
                    t = ev.fromElement;
                } else { }
            }
        }
        return t;
    },
    onDomReady: function (fn) {
        QZFL.event.onDomReady._fn = function () {
            fn();
            QZFL.event.onDomReady._fn = null;
        };
        if (document.addEventListener) {
            if (QZFL.userAgent.safari < 4) {
                var _a5 = setInterval(function () {
                    if ((/loaded|complete/).test(document.readyState)) {
                        QZFL.event.onDomReady._fn();
                        clearInterval(_a5);
                    }
                }, 50);
            } else {
                document.addEventListener("DOMContentLoaded", QZFL.event.onDomReady._fn, true);
            }
        } else {
            var src = window.location.protocol == "https:" ? "//:" : "javascript:void(0)";
            document.write("<script onreadystatechange=\"if(this.readyState=='complete'){this.parentNode.removeChild(this);QZFL.event.onDomReady._fn();}\" defer=\"defer\" src=\"" + src + "\"></script>");
        }
    }
};
QZFL.event.on = QZFL.event.addEvent;
QZFL.event.bind = QZFL.object.bind;
(function () {
    var _a6 = QZFL.ElementHandler = function (_a7, _a8) {
        this.elements = null;
        this._isElementHandler = true;
        this._init(_a7, _a8);
    };
    _a6.prototype = {
        _init: function (_a9, _aa) {
            if (QZFL.lang.isString(_a9)) {
                this.elements = QZFL.selector(_a9, _aa);
            } else {
                if (_a9 instanceof QZFL.ElementHandler) {
                    this.elements = _a9.elements.slice();
                } else {
                    if (QZFL.lang.isArray(_a9)) {
                        this.elements = _a9;
                    } else {
                        if (_a9 && ((_a9.nodeType && _a9.nodeType !== 3 && _a9.nodeType !== 8) || _a9.setTimeout)) {
                            this.elements = [_a9];
                        } else {
                            this.elements = [];
                        }
                    }
                }
            }
        },
        findElements: function (_ab) {
            var _ac = [],
                _ad;
            this.each(function (el) {
                _ad = QZFL.selector(_ab, el);
                if (_ad.length > 0) {
                    _ac = _ac.concat(_ad);
                }
            });
            return _ac;
        },
        find: function (_ae) {
            return _af.get(this.findElements(_ae));
        },
        filter: function (_b0, _b1, not) {
            if (not) {
                _b0 = ":not(" + _b0 + ")";
            }
            return _af.get(QZFL.selector.matches(_b0, _b1 || this.elements));
        },
        each: function (fn) {
            QZFL.object.each(this.elements, fn);
            return this;
        },
        concat: function (_b2) {
            return _af.get(this.elements.concat(!!_b2._isElementHandler ? _b2.elements : _b2));
        },
        get: function (_b3) {
            return _af.get(this.elements[_b3]);
        },
        slice: function () {
            return _af.get(Array.prototype.slice.apply(this.elements, arguments));
        }
    };
    var _af = QZFL.element = {
        get: function (_b4, _b5) {
            return new _a6(_b4, _b5);
        },
        extend: function (_b6) {
            QZFL.object.extend(_a6, _b6);
        },
        extendFn: function (_b7) {
            QZFL.object.extend(_a6.prototype, _b7);
        },
        getVersion: function () {
            return _a6.version;
        }
    };
})();
QZFL.element.extend({
    version: "1.0"
});
QZFL.element.extendFn({
    bind: function (_b8, fn) {
        if (typeof (fn) != "function") {
            return false;
        }
        return this.each(function (el) {
            QZFL.event.addEvent(el, _b8, fn);
        });
    },
    unBind: function (_b9, fn) {
        return this.each(function (el) {
            QZFL.event[fn ? "removeEvent" : "purgeEvent"](el, _b9, fn);
        });
    },
    onHover: function (_ba, _bb) {
        this.onMouseOver(_ba);
        return this.onMouseOut(_bb);
    },
    onMouseEnter: function (fn) {
        return this.bind("mouseover", function (evt) {
            var rel = QZFL.event.getRelatedTarget(evt);
            if (QZFL.lang.isFunction(fn) && !QZFL.dom.isAncestor(this, rel)) {
                fn.call(this, evt);
            }
        });
    },
    onMouseLeave: function (fn) {
        return this.bind("mouseout", function (evt) {
            var rel = QZFL.event.getRelatedTarget(evt);
            if (QZFL.lang.isFunction(fn) && !QZFL.dom.isAncestor(this, rel)) {
                fn.call(this, evt);
            }
        });
    }
});
QZFL.object.each(["onClick", "onMouseOver", "onMouseMove", "onMouseOut", "onFocus", "onBlur", "onKeyDown", "onKeyPress", "onKeyUp"], function (_bc, _bd) {
    QZFL.ElementHandler.prototype[_bc] = function (fn) {
        return this.bind(_bc.slice(2).toLowerCase(), fn);
    };
});
QZFL.element.extendFn({
    setHtml: function (_be) {
        return this.setAttr("innerHTML", _be);
    },
    getHtml: function (_bf) {
        var _c0 = this.elements[_bf || 0];
        return !!_c0 ? _c0.innerHTML : null;
    },
    setVal: function (_c1) {
        if (QZFL.object.getType(_c1) == "array") {
            var _c2 = "\x00" + _c1.join("\x00") + "\x00";
            this.each(function (el) {
                if (/radio|checkbox/.test(el.type)) {
                    el.checked = el.nodeType && ("\x00" + _c2.indexOf(el.value.toString() + "\x00") > -1 || _c2.indexOf("\x00" + el.name.toString() + "\x00") > -1);
                } else {
                    if (el.tagName == "SELECT") {
                        QZFL.object.each(el.options, function (e) {
                            e.selected = e.nodeType == 1 && ("\x00" + _c2.indexOf(e.value.toString() + "\x00") > -1 || _c2.indexOf("\x00" + e.text.toString() + "\x00") > -1);
                        });
                    } else {
                        el.value = _c1;
                    }
                }
            });
        } else {
            this.setAttr("value", _c1);
        }
        return this;
    },
    getVal: function (_c3) {
        var _c4 = this.elements[_c3 || 0],
            _c5;
        if (_c4) {
            if (_c4.tagName == "SELECT") {
                _c5 = [];
                if (_c4.selectedIndex < 0) {
                    return null;
                }
                if (_c4.type == "select-one") {
                    _c5.push(_c4.value);
                } else {
                    QZFL.object.each(_c4.options, function (e) {
                        if (e.nodeType == 1 && e.selected) {
                            _c5.push(e.value);
                        }
                    });
                }
            } else {
                _c5 = _c4.value;
            }
        } else {
            return null;
        }
        return _c5;
    },
    hasClass: function (_c6) {
        if (this.elements && this.elements.length) {
            return QZFL.css.hasClassName(this.elements[0], _c6);
        }
        return false;
    },
    addClass: function (_c7) {
        return this.each(function (el) {
            QZFL.css.addClassName(el, _c7);
        });
    },
    removeClass: function (_c8) {
        return this.each(function (el) {
            QZFL.css.removeClassName(el, _c8);
        });
    },
    toggleClass: function (_c9) {
        return this.each(function (el) {
            QZFL.css.toggleClassName(el, _c9);
        });
    },
    getSize: function (_ca) {
        var _cb = this.elements[_ca || 0];
        return !!_cb ? QZFL.dom.getSize(_cb) : null;
    },
    getXY: function (_cc) {
        var _cd = this.elements[_cc || 0];
        return !!_cd ? QZFL.dom.getXY(_cd) : null;
    },
    setSize: function (_ce, _cf) {
        return this.each(function (el) {
            QZFL.dom.setSize(el, _ce, _cf);
        });
    },
    setXY: function (X, Y) {
        return this.each(function (el) {
            QZFL.dom.setXY(el, X, Y);
        });
    },
    hide: function () {
        return this.each(function (el) {
            QZFL.dom.setStyle(el, "display", "none");
        });
    },
    show: function (_d0) {
        return this.each(function (el) {
            QZFL.dom.setStyle(el, "display", _d0 ? "block" : "");
        });
    },
    getStyle: function (key, _d1) {
        var _d2 = this.elements[_d1 || 0];
        return !!_d2 ? QZFL.dom.getStyle(_d2, key) : null;
    },
    setStyle: function (key, _d3) {
        return this.each(function (el) {
            QZFL.dom.setStyle(el, key, _d3);
        });
    },
    setAttr: function (key, _d4) {
        key = (key == "class" ? "className" : key);
        return this.each(function (el) {
            el[key] = _d4;
        });
    },
    getAttr: function (key, _d5) {
        key = (key == "class" ? "className" : key);
        var _d6 = this.elements[_d5 || 0];
        return !!_d6 ? (_d6[key] || _d6.getAttribute(key)) : null;
    }
});
QZFL.element.extendFn({
    getPrev: function () {
        var _d7 = [];
        this.each(function (el) {
            var _d8 = QZFL.dom.getPreviousSibling(el);
            _d7.push(_d8);
        });
        return QZFL.element.get(_d7);
    },
    getNext: function () {
        var _d9 = [];
        this.each(function (el) {
            var _da = QZFL.dom.getNextSibling(el);
            _d9.push(_da);
        });
        return QZFL.element.get(_d9);
    },
    getChildren: function () {
        var _db = [];
        this.each(function (el) {
            var _dc = QZFL.dom.getFirstChild(el);
            while (_dc) {
                if (!!_dc && _dc.nodeType == 1) {
                    _db.push(_dc);
                }
                _dc = _dc.nextSibling;
            }
        });
        return QZFL.element.get(_db);
    },
    getParent: function () {
        var _dd = [];
        this.each(function (el) {
            var _de = el.parentNode;
            _dd.push(_de);
        });
        return QZFL.element.get(_dd);
    }
});
QZFL.element.extendFn({
    create: function (_df, _e0) {
        var _e1 = [];
        this.each(function (el) {
            _e1.push(QZFL.dom.createElementIn(_df, el, false, _e0));
        });
        return QZFL.element.get(_e1);
    },
    appendTo: function (el) {
        var el = (el.elements && el.elements[0]) || QZFL.dom.get(el);
        return this.each(function (_e2) {
            el.appendChild(_e2);
        });
    },
    insertAfter: function (el) {
        var el = (el.elements && el.elements[0]) || QZFL.dom.get(el),
            _e3 = el.nextSibling,
            _e4 = el.parentNode;
        return this.each(function (_e5) {
            _e4[!_e3 ? "appendChild" : "insertBefore"](_e5, _e3);
        });
    },
    insertBefore: function (el) {
        var el = (el.elements && el.elements[0]) || QZFL.dom.get(el),
            _e6 = el.parentNode;
        return this.each(function (_e7) {
            _e6.insertBefore(_e7, el);
        });
    },
    remove: function () {
        return this.each(function (el) {
            QZFL.dom.removeElement(el);
        });
    }
});
(function () {
    var _e8 = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,
        _e9 = 0,
        _ea = Object.prototype.toString,
        _eb = false;
    var _ec = function (_ed, _ee, _ef, _f0) {
        _ef = _ef || [];
        var _f1 = _ee = _ee || document;
        if (_ee.nodeType !== 1 && _ee.nodeType !== 9) {
            return [];
        }
        if (!_ed || typeof _ed !== "string") {
            return _ef;
        }
        var _f2 = [],
                m, set, _f3, _f4, _f5, _f6, _f7 = true,
                _f8 = _f9(_ee);
        _e8.lastIndex = 0;
        while ((m = _e8.exec(_ed)) !== null) {
            _f2.push(m[1]);
            if (m[2]) {
                _f6 = RegExp.rightContext;
                break;
            }
        }
        if (_f2.length > 1 && _fa.exec(_ed)) {
            if (_f2.length === 2 && _fb.relative[_f2[0]]) {
                set = _fc(_f2[0] + _f2[1], _ee);
            } else {
                set = _fb.relative[_f2[0]] ? [_ee] : _ec(_f2.shift(), _ee);
                while (_f2.length) {
                    _ed = _f2.shift();
                    if (_fb.relative[_ed]) {
                        _ed += _f2.shift();
                    }
                    set = _fc(_ed, set);
                }
            }
        } else {
            if (!_f0 && _f2.length > 1 && _ee.nodeType === 9 && !_f8 && _fb.match.ID.test(_f2[0]) && !_fb.match.ID.test(_f2[_f2.length - 1])) {
                var ret = _ec.find(_f2.shift(), _ee, _f8);
                _ee = ret.expr ? _ec.filter(ret.expr, ret.set)[0] : ret.set[0];
            }
            if (_ee) {
                var ret = _f0 ? {
                    expr: _f2.pop(),
                    set: _fd(_f0)
                } : _ec.find(_f2.pop(), _f2.length === 1 && (_f2[0] === "~" || _f2[0] === "+") && _ee.parentNode ? _ee.parentNode : _ee, _f8);
                set = ret.expr ? _ec.filter(ret.expr, ret.set) : ret.set;
                if (_f2.length > 0) {
                    _f3 = _fd(set);
                } else {
                    _f7 = false;
                }
                while (_f2.length) {
                    var cur = _f2.pop(),
                            pop = cur;
                    if (!_fb.relative[cur]) {
                        cur = "";
                    } else {
                        pop = _f2.pop();
                    }
                    if (pop == null) {
                        pop = _ee;
                    }
                    _fb.relative[cur](_f3, pop, _f8);
                }
            } else {
                _f3 = _f2 = [];
            }
        }
        if (!_f3) {
            _f3 = set;
        }
        if (!_f3) {
            throw "Syntax error, unrecognized expression: " + (cur || _ed);
        }
        if (_ea.call(_f3) === "[object Array]") {
            if (!_f7) {
                _ef.push.apply(_ef, _f3);
            } else {
                if (_ee && _ee.nodeType === 1) {
                    for (var i = 0; _f3[i] != null; i++) {
                        if (_f3[i] && (_f3[i] === true || _f3[i].nodeType === 1 && _fe(_ee, _f3[i]))) {
                            _ef.push(set[i]);
                        }
                    }
                } else {
                    for (var i = 0; _f3[i] != null; i++) {
                        if (_f3[i] && _f3[i].nodeType === 1) {
                            _ef.push(set[i]);
                        }
                    }
                }
            }
        } else {
            _fd(_f3, _ef);
        }
        if (_f6) {
            _ec(_f6, _f1, _ef, _f0);
            _ec.uniqueSort(_ef);
        }
        return _ef;
    };
    _ec.uniqueSort = function (_ff) {
        if (_100) {
            _eb = false;
            _ff.sort(_100);
            if (_eb) {
                for (var i = 1; i < _ff.length; i++) {
                    if (_ff[i] === _ff[i - 1]) {
                        _ff.splice(i--, 1);
                    }
                }
            }
        }
    };
    _ec.matches = function (expr, set) {
        return _ec(expr, null, null, set);
    };
    _ec.find = function (expr, _101, _102) {
        var set, _103;
        if (!expr) {
            return [];
        }
        for (var i = 0, l = _fb.order.length; i < l; i++) {
            var type = _fb.order[i],
                _103;
            if ((_103 = _fb.match[type].exec(expr))) {
                var left = RegExp.leftContext;
                if (left.substr(left.length - 1) !== "\\") {
                    _103[1] = (_103[1] || "").replace(/\\/g, "");
                    set = _fb.find[type](_103, _101, _102);
                    if (set != null) {
                        expr = expr.replace(_fb.match[type], "");
                        break;
                    }
                }
            }
        }
        if (!set) {
            set = _101.getElementsByTagName("*");
        }
        return {
            set: set,
            expr: expr
        };
    };
    _ec.filter = function (expr, set, _104, not) {
        var old = expr,
            _105 = [],
            _106 = set,
            _107, _108, _109 = set && set[0] && _f9(set[0]);
        while (expr && set.length) {
            for (var type in _fb.filter) {
                if ((_107 = _fb.match[type].exec(expr)) != null) {
                    var _10a = _fb.filter[type],
                        _10b, item;
                    _108 = false;
                    if (_106 == _105) {
                        _105 = [];
                    }
                    if (_fb.preFilter[type]) {
                        _107 = _fb.preFilter[type](_107, _106, _104, _105, not, _109);
                        if (!_107) {
                            _108 = _10b = true;
                        } else {
                            if (_107 === true) {
                                continue;
                            }
                        }
                    }
                    if (_107) {
                        for (var i = 0;
                        (item = _106[i]) != null; i++) {
                            if (item) {
                                _10b = _10a(item, _107, i, _106);
                                var pass = not ^ !!_10b;
                                if (_104 && _10b != null) {
                                    if (pass) {
                                        _108 = true;
                                    } else {
                                        _106[i] = false;
                                    }
                                } else {
                                    if (pass) {
                                        _105.push(item);
                                        _108 = true;
                                    }
                                }
                            }
                        }
                    }
                    if (_10b !== undefined) {
                        if (!_104) {
                            _106 = _105;
                        }
                        expr = expr.replace(_fb.match[type], "");
                        if (!_108) {
                            return [];
                        }
                        break;
                    }
                }
            }
            if (expr == old) {
                if (_108 == null) {
                    throw "Syntax error, unrecognized expression: " + expr;
                } else {
                    break;
                }
            }
            old = expr;
        }
        return _106;
    };
    var _fb = _ec.selectors = {
        order: ["ID", "NAME", "TAG"],
        match: {
            ID: /#((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,
            CLASS: /\.((?:[\w\u00c0-\uFFFF_-]|\\.)+)/,
            NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF_-]|\\.)+)['"]*\]/,
            ATTR: /\[\s*((?:[\w\u00c0-\uFFFF_-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,
            TAG: /^((?:[\w\u00c0-\uFFFF\*_-]|\\.)+)/,
            CHILD: /:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,
            POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,
            PSEUDO: /:((?:[\w\u00c0-\uFFFF_-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/
        },
        attrMap: {
            "class": "className",
            "for": "htmlFor"
        },
        attrHandle: {
            href: function (elem) {
                return elem.getAttribute("href");
            }
        },
        relative: {
            "+": function (_10c, part, _10d) {
                var _10e = typeof part === "string",
                    _10f = _10e && !/\W/.test(part),
                    _110 = _10e && !_10f;
                if (_10f && !_10d) {
                    part = part.toUpperCase();
                }
                for (var i = 0, l = _10c.length, elem; i < l; i++) {
                    if ((elem = _10c[i])) {
                        while ((elem = elem.previousSibling) && elem.nodeType !== 1) { }
                        _10c[i] = _110 || elem && elem.nodeName === part ? elem || false : elem === part;
                    }
                }
                if (_110) {
                    _ec.filter(part, _10c, true);
                }
            },
            ">": function (_111, part, _112) {
                var _113 = typeof part === "string";
                if (_113 && !/\W/.test(part)) {
                    part = _112 ? part : part.toUpperCase();
                    for (var i = 0, l = _111.length; i < l; i++) {
                        var elem = _111[i];
                        if (elem) {
                            var _114 = elem.parentNode;
                            _111[i] = _114.nodeName === part ? _114 : false;
                        }
                    }
                } else {
                    for (var i = 0, l = _111.length; i < l; i++) {
                        var elem = _111[i];
                        if (elem) {
                            _111[i] = _113 ? elem.parentNode : elem.parentNode === part;
                        }
                    }
                    if (_113) {
                        _ec.filter(part, _111, true);
                    }
                }
            },
            "": function (_115, part, _116) {
                var _117 = _e9++,
                    _118 = _119;
                if (!/\W/.test(part)) {
                    var _11a = part = _116 ? part : part.toUpperCase();
                    _118 = _11b;
                }
                _118("parentNode", part, _117, _115, _11a, _116);
            },
            "~": function (_11c, part, _11d) {
                var _11e = _e9++,
                    _11f = _119;
                if (typeof part === "string" && !/\W/.test(part)) {
                    var _120 = part = _11d ? part : part.toUpperCase();
                    _11f = _11b;
                }
                _11f("previousSibling", part, _11e, _11c, _120, _11d);
            }
        },
        find: {
            ID: function (_121, _122, _123) {
                if (typeof _122.getElementById !== "undefined" && !_123) {
                    var m = _122.getElementById(_121[1]);
                    return m ? [m] : [];
                }
            },
            NAME: function (_124, _125, _126) {
                if (typeof _125.getElementsByName !== "undefined") {
                    var ret = [],
                        _127 = _125.getElementsByName(_124[1]);
                    for (var i = 0, l = _127.length; i < l; i++) {
                        if (_127[i].getAttribute("name") === _124[1]) {
                            ret.push(_127[i]);
                        }
                    }
                    return ret.length === 0 ? null : ret;
                }
            },
            TAG: function (_128, _129) {
                return _129.getElementsByTagName(_128[1]);
            }
        },
        preFilter: {
            CLASS: function (_12a, _12b, _12c, _12d, not, _12e) {
                _12a = " " + _12a[1].replace(/\\/g, "") + " ";
                if (_12e) {
                    return _12a;
                }
                for (var i = 0, elem;
                (elem = _12b[i]) != null; i++) {
                    if (elem) {
                        if (not ^ (elem.className && (" " + elem.className + " ").indexOf(_12a) >= 0)) {
                            if (!_12c) {
                                _12d.push(elem);
                            }
                        } else {
                            if (_12c) {
                                _12b[i] = false;
                            }
                        }
                    }
                }
                return false;
            },
            ID: function (_12f) {
                return _12f[1].replace(/\\/g, "");
            },
            TAG: function (_130, _131) {
                for (var i = 0; _131[i] === false; i++) { }
                return _131[i] && _f9(_131[i]) ? _130[1] : _130[1].toUpperCase();
            },
            CHILD: function (_132) {
                if (_132[1] == "nth") {
                    var test = /(-?)(\d*)n((?:\+|-)?\d*)/.exec(_132[2] == "even" && "2n" || _132[2] == "odd" && "2n+1" || !/\D/.test(_132[2]) && "0n+" + _132[2] || _132[2]);
                    _132[2] = (test[1] + (test[2] || 1)) - 0;
                    _132[3] = test[3] - 0;
                }
                _132[0] = _e9++;
                return _132;
            },
            ATTR: function (_133, _134, _135, _136, not, _137) {
                var name = _133[1].replace(/\\/g, "");
                if (!_137 && _fb.attrMap[name]) {
                    _133[1] = _fb.attrMap[name];
                }
                if (_133[2] === "~=") {
                    _133[4] = " " + _133[4] + " ";
                }
                return _133;
            },
            PSEUDO: function (_138, _139, _13a, _13b, not) {
                if (_138[1] === "not") {
                    if (_e8.exec(_138[3]).length > 1 || /^\w/.test(_138[3])) {
                        _138[3] = _ec(_138[3], null, null, _139);
                    } else {
                        var ret = _ec.filter(_138[3], _139, _13a, true ^ not);
                        if (!_13a) {
                            _13b.push.apply(_13b, ret);
                        }
                        return false;
                    }
                } else {
                    if (_fb.match.POS.test(_138[0]) || _fb.match.CHILD.test(_138[0])) {
                        return true;
                    }
                }
                return _138;
            },
            POS: function (_13c) {
                _13c.unshift(true);
                return _13c;
            }
        },
        filters: {
            enabled: function (elem) {
                return elem.disabled === false && elem.type !== "hidden";
            },
            disabled: function (elem) {
                return elem.disabled === true;
            },
            checked: function (elem) {
                return elem.checked === true;
            },
            selected: function (elem) {
                elem.parentNode.selectedIndex;
                return elem.selected === true;
            },
            parent: function (elem) {
                return !!elem.firstChild;
            },
            empty: function (elem) {
                return !elem.firstChild;
            },
            has: function (elem, i, _13d) {
                return !!_ec(_13d[3], elem).length;
            },
            header: function (elem) {
                return /h\d/i.test(elem.nodeName);
            },
            text: function (elem) {
                return "text" === elem.type;
            },
            radio: function (elem) {
                return "radio" === elem.type;
            },
            checkbox: function (elem) {
                return "checkbox" === elem.type;
            },
            file: function (elem) {
                return "file" === elem.type;
            },
            password: function (elem) {
                return "password" === elem.type;
            },
            submit: function (elem) {
                return "submit" === elem.type;
            },
            image: function (elem) {
                return "image" === elem.type;
            },
            reset: function (elem) {
                return "reset" === elem.type;
            },
            button: function (elem) {
                return "button" === elem.type || elem.nodeName.toUpperCase() === "BUTTON";
            },
            input: function (elem) {
                return /input|select|textarea|button/i.test(elem.nodeName);
            }
        },
        setFilters: {
            first: function (elem, i) {
                return i === 0;
            },
            last: function (elem, i, _13e, _13f) {
                return i === _13f.length - 1;
            },
            even: function (elem, i) {
                return i % 2 === 0;
            },
            odd: function (elem, i) {
                return i % 2 === 1;
            },
            lt: function (elem, i, _140) {
                return i < _140[3] - 0;
            },
            gt: function (elem, i, _141) {
                return i > _141[3] - 0;
            },
            nth: function (elem, i, _142) {
                return _142[3] - 0 == i;
            },
            eq: function (elem, i, _143) {
                return _143[3] - 0 == i;
            }
        },
        filter: {
            PSEUDO: function (elem, _144, i, _145) {
                var name = _144[1],
                    _146 = _fb.filters[name];
                if (_146) {
                    return _146(elem, i, _144, _145);
                } else {
                    if (name === "contains") {
                        return (elem.textContent || elem.innerText || "").indexOf(_144[3]) >= 0;
                    } else {
                        if (name === "not") {
                            var not = _144[3];
                            for (i = 0, l = not.length; i < l; i++) {
                                if (not[i] === elem) {
                                    return false;
                                }
                            }
                            return true;
                        }
                    }
                }
            },
            CHILD: function (elem, _147) {
                var type = _147[1],
                    node = elem;
                switch (type) {
                    case "only":
                    case "first":
                        while ((node = node.previousSibling)) {
                            if (node.nodeType === 1) {
                                return false;
                            }
                        }
                        if (type == "first") {
                            return true;
                        }
                        node = elem;
                    case "last":
                        while ((node = node.nextSibling)) {
                            if (node.nodeType === 1) {
                                return false;
                            }
                        }
                        return true;
                    case "nth":
                        var _148 = _147[2],
                        last = _147[3];
                        if (_148 == 1 && last == 0) {
                            return true;
                        }
                        var _149 = _147[0],
                        _14a = elem.parentNode;
                        if (_14a && (_14a.sizcache !== _149 || !elem.nodeIndex)) {
                            var _14b = 0;
                            for (node = _14a.firstChild; node; node = node.nextSibling) {
                                if (node.nodeType === 1) {
                                    node.nodeIndex = ++_14b;
                                }
                            }
                            _14a.sizcache = _149;
                        }
                        var diff = elem.nodeIndex - last;
                        if (_148 == 0) {
                            return diff == 0;
                        } else {
                            return (diff % _148 == 0 && diff / _148 >= 0);
                        }
                }
            },
            ID: function (elem, _14c) {
                return elem.nodeType === 1 && elem.getAttribute("id") === _14c;
            },
            TAG: function (elem, _14d) {
                return (_14d === "*" && elem.nodeType === 1) || elem.nodeName === _14d;
            },
            CLASS: function (elem, _14e) {
                return (" " + (elem.className || elem.getAttribute("class")) + " ").indexOf(_14e) > -1;
            },
            ATTR: function (elem, _14f) {
                var name = _14f[1],
                    _150 = _fb.attrHandle[name] ? _fb.attrHandle[name](elem) : elem[name] != null ? elem[name] : elem.getAttribute(name),
                    _151 = _150 + "",
                    type = _14f[2],
                    _152 = _14f[4];
                return _150 == null ? type === "!=" : type === "=" ? _151 === _152 : type === "*=" ? _151.indexOf(_152) >= 0 : type === "~=" ? (" " + _151 + " ").indexOf(_152) >= 0 : !_152 ? _151 && _150 !== false : type === "!=" ? _151 != _152 : type === "^=" ? _151.indexOf(_152) === 0 : type === "$=" ? _151.substr(_151.length - _152.length) === _152 : type === "|=" ? _151 === _152 || _151.substr(0, _152.length + 1) === _152 + "-" : false;
            },
            POS: function (elem, _153, i, _154) {
                var name = _153[2],
                    _155 = _fb.setFilters[name];
                if (_155) {
                    return _155(elem, i, _153, _154);
                }
            }
        }
    };
    var _fa = _fb.match.POS;
    for (var type in _fb.match) {
        _fb.match[type] = new RegExp(_fb.match[type].source + /(?![^\[]*\])(?![^\(]*\))/.source);
    }
    var _fd = function (_156, _157) {
        _156 = Array.prototype.slice.call(_156);
        if (_157) {
            _157.push.apply(_157, _156);
            return _157;
        }
        return _156;
    };
    try {
        Array.prototype.slice.call(document.documentElement.childNodes);
    } catch (e) {
        _fd = function (_158, _159) {
            var ret = _159 || [];
            if (_ea.call(_158) === "[object Array]") {
                Array.prototype.push.apply(ret, _158);
            } else {
                if (typeof _158.length === "number") {
                    for (var i = 0, l = _158.length; i < l; i++) {
                        ret.push(_158[i]);
                    }
                } else {
                    for (var i = 0; _158[i]; i++) {
                        ret.push(_158[i]);
                    }
                }
            }
            return ret;
        };
    }
    var _100;
    if (document.documentElement.compareDocumentPosition) {
        _100 = function (a, b) {
            var ret = a.compareDocumentPosition(b) & 4 ? -1 : a === b ? 0 : 1;
            if (ret === 0) {
                _eb = true;
            }
            return ret;
        };
    } else {
        if ("sourceIndex" in document.documentElement) {
            _100 = function (a, b) {
                var ret = a.sourceIndex - b.sourceIndex;
                if (ret === 0) {
                    _eb = true;
                }
                return ret;
            };
        } else {
            if (document.createRange) {
                _100 = function (a, b) {
                    var _15a = a.ownerDocument.createRange(),
                        _15b = b.ownerDocument.createRange();
                    _15a.selectNode(a);
                    _15a.collapse(true);
                    _15b.selectNode(b);
                    _15b.collapse(true);
                    var ret = _15a.compareBoundaryPoints(Range.START_TO_END, _15b);
                    if (ret === 0) {
                        _eb = true;
                    }
                    return ret;
                };
            }
        }
    } (function () {
        var form = document.createElement("div"),
            id = "script" + (new Date).getTime();
        form.innerHTML = "<a name='" + id + "'/>";
        var root = document.documentElement;
        root.insertBefore(form, root.firstChild);
        if (!!document.getElementById(id)) {
            _fb.find.ID = function (_15c, _15d, _15e) {
                if (typeof _15d.getElementById !== "undefined" && !_15e) {
                    var m = _15d.getElementById(_15c[1]);
                    return m ? m.id === _15c[1] || typeof m.getAttributeNode !== "undefined" && m.getAttributeNode("id").nodeValue === _15c[1] ? [m] : undefined : [];
                }
            };
            _fb.filter.ID = function (elem, _15f) {
                var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
                return elem.nodeType === 1 && node && node.nodeValue === _15f;
            };
        }
        root.removeChild(form);
        root = form = null;
    })();
    (function () {
        var div = document.createElement("div");
        div.appendChild(document.createComment(""));
        if (div.getElementsByTagName("*").length > 0) {
            _fb.find.TAG = function (_160, _161) {
                var _162 = _161.getElementsByTagName(_160[1]);
                if (_160[1] === "*") {
                    var tmp = [];
                    for (var i = 0; _162[i]; i++) {
                        if (_162[i].nodeType === 1) {
                            tmp.push(_162[i]);
                        }
                    }
                    _162 = tmp;
                }
                return _162;
            };
        }
        div.innerHTML = "<a href='#'></a>";
        if (div.firstChild && typeof div.firstChild.getAttribute !== "undefined" && div.firstChild.getAttribute("href") !== "#") {
            _fb.attrHandle.href = function (elem) {
                return elem.getAttribute("href", 2);
            };
        }
        div = null;
    })();
    if (document.querySelectorAll) {
        (function () {
            var _163 = _ec,
                div = document.createElement("div");
            div.innerHTML = "<p class='TEST'></p>";
            if (div.querySelectorAll && div.querySelectorAll(".TEST").length === 0) {
                return;
            }
            _ec = function (_164, _165, _166, seed) {
                _165 = _165 || document;
                if (!seed && _165.nodeType === 9 && !_f9(_165)) {
                    try {
                        return _fd(_165.querySelectorAll(_164), _166);
                    } catch (e) { }
                }
                return _163(_164, _165, _166, seed);
            };
            for (var prop in _163) {
                _ec[prop] = _163[prop];
            }
            div = null;
        })();
    }
    if (document.getElementsByClassName && document.documentElement.getElementsByClassName) {
        (function () {
            var div = document.createElement("div");
            div.innerHTML = "<div class='test e'></div><div class='test'></div>";
            if (div.getElementsByClassName("e").length === 0) {
                return;
            }
            div.lastChild.className = "e";
            if (div.getElementsByClassName("e").length === 1) {
                return;
            }
            _fb.order.splice(1, 0, "CLASS");
            _fb.find.CLASS = function (_167, _168, _169) {
                if (typeof _168.getElementsByClassName !== "undefined" && !_169) {
                    return _168.getElementsByClassName(_167[1]);
                }
            };
            div = null;
        })();
    }

    function _11b(dir, cur, _16a, _16b, _16c, _16d) {
        var _16e = dir == "previousSibling" && !_16d;
        for (var i = 0, l = _16b.length; i < l; i++) {
            var elem = _16b[i];
            if (elem) {
                if (_16e && elem.nodeType === 1) {
                    elem.sizcache = _16a;
                    elem.sizset = i;
                }
                elem = elem[dir];
                var _16f = false;
                while (elem) {
                    if (elem.sizcache === _16a) {
                        _16f = _16b[elem.sizset];
                        break;
                    }
                    if (elem.nodeType === 1 && !_16d) {
                        elem.sizcache = _16a;
                        elem.sizset = i;
                    }
                    if (elem.nodeName === cur) {
                        _16f = elem;
                        break;
                    }
                    elem = elem[dir];
                }
                _16b[i] = _16f;
            }
        }
    };

    function _119(dir, cur, _170, _171, _172, _173) {
        var _174 = dir == "previousSibling" && !_173;
        for (var i = 0, l = _171.length; i < l; i++) {
            var elem = _171[i];
            if (elem) {
                if (_174 && elem.nodeType === 1) {
                    elem.sizcache = _170;
                    elem.sizset = i;
                }
                elem = elem[dir];
                var _175 = false;
                while (elem) {
                    if (elem.sizcache === _170) {
                        _175 = _171[elem.sizset];
                        break;
                    }
                    if (elem.nodeType === 1) {
                        if (!_173) {
                            elem.sizcache = _170;
                            elem.sizset = i;
                        }
                        if (typeof cur !== "string") {
                            if (elem === cur) {
                                _175 = true;
                                break;
                            }
                        } else {
                            if (_ec.filter(cur, [elem]).length > 0) {
                                _175 = elem;
                                break;
                            }
                        }
                    }
                    elem = elem[dir];
                }
                _171[i] = _175;
            }
        }
    };
    var _fe = document.compareDocumentPosition ?
    function (a, b) {
        return a.compareDocumentPosition(b) & 16;
    } : function (a, b) {
        return a !== b && (a.contains ? a.contains(b) : true);
    };
    var _f9 = function (elem) {
        return elem.nodeType === 9 && elem.documentElement.nodeName !== "HTML" || !!elem.ownerDocument && elem.ownerDocument.documentElement.nodeName !== "HTML";
    };
    var _fc = function (_176, _177) {
        var _178 = [],
                _179 = "",
                _17a, root = _177.nodeType ? [_177] : _177;
        while ((_17a = _fb.match.PSEUDO.exec(_176))) {
            _179 += _17a[0];
            _176 = _176.replace(_fb.match.PSEUDO, "");
        }
        _176 = _fb.relative[_176] ? _176 + "*" : _176;
        for (var i = 0, l = root.length; i < l; i++) {
            _ec(_176, root[i], _178);
        }
        return _ec.filter(_179, _178);
    };
    QZFL.selector = _ec;
    QZFL.object.makeArray = _fd;
    QZFL.dom.uniqueSort = _ec.uniqueSort;
    QZFL.dom.contains = _fe;
})();
QZFL.string.parseXML = function (text) {
    var doc;
    if (window.ActiveXObject) {
        doc = QZFL.lang.tryThese(function () {
            return new ActiveXObject("MSXML2.DOMDocument.6.0");
        }, function () {
            return new ActiveXObject("MSXML2.DOMDocument.5.0");
        }, function () {
            return new ActiveXObject("MSXML2.DOMDocument.4.0");
        }, function () {
            return new ActiveXObject("MSXML2.DOMDocument.3.0");
        }, function () {
            return new ActiveXObject("MSXML2.DOMDocument");
        }, function () {
            return new ActiveXObject("Microsoft.XMLDOM");
        });
        doc.async = "false";
        doc.loadXML(text);
        if (doc.parseError.reason) {
            return null;
        }
    } else {
        var _17b = new DOMParser();
        doc = _17b.parseFromString(text, "text/xml");
        if (doc.documentElement.nodeName == "parsererror") {
            return null;
        }
    }
    return doc.documentElement;
};
QZFL.string.timeFormatString = function (date, mask, _17c) {
    typeof (date) == "number" && (date = new Date(date));
    if (isNaN(date) || !date instanceof Date) {
        return "";
    }
    try {
        date.getTime();
    } catch (e) {
        return "";
    }
    if (typeof (mask) !== "string") {
        return s + "";
    }
    _17c = _17c || 0;
    var me = QZFL.string.timeFormatString,
        map = me._map,
        _17d = false,
        v;
    return mask.replace(me._re, function (a, b, c) {
        (_17d = b.charAt(0) == "_") && (b = b.charAt(1));
        if (!map[b]) {
            return a;
        }
        if (_17d == false) {
            v = date[map[b][0]]();
            b == "y" && (v %= 100);
            b == "M" && v++;
            return v < 10 ? QZFL.string.fillLength(v, 2, c) : v.toString();
        } else {
            return Math.floor(Math.abs(date - _17c) / map[b][1]);
        }
    });
};
QZFL.string.timeFormatString._re = /\{([_yYMdhms]{1,2})(?:\:([\d\w\s]))?\}/g;
QZFL.string.timeFormatString._map = {
    y: ["getYear", 31104000000],
    Y: ["getFullYear", 31104000000],
    M: ["getMonth", 2592000000],
    d: ["getDate", 86400000],
    h: ["getHours", 3600000],
    m: ["getMinutes", 60000],
    s: ["getSeconds", 1000]
};
QZFL.string.StringBuilder = function () {
    this._strList = QZFL.lang.arg2arr(arguments);
};
QZFL.string.StringBuilder.prototype = {
    append: function (str) {
        if (QZFL.lang.isString(str)) {
            this._strList.push(str.toString());
        }
    },
    insertFirst: function (str) {
        if (QZFL.lang.isString(str)) {
            this._strList.unshift(str.toString());
        }
    },
    appendArray: function (arr) {
        if (isArray(arr)) {
            this._strList = this._strList.concat(arr);
        }
    },
    toString: function (_17e) {
        return this._strList.join(!_17e ? "" : _17e);
    },
    clear: function () {
        this._strList.splice(0, this._strList.length);
    }
};
QZFL.lang.isValidXMLdom = function (o) {
    return !!(o && o.xml && /^<\?xml/.test(o.xml));
};
QZFL.lang.arg2arr = function (_17f, _180) {
    return Array.prototype.slice.apply(_17f, [_180 || 0, _17f.length]);
};
QZFL.lang.getObjByNameSpace = function (ns, _181) {
    if (typeof (ns) != "string") {
        return ns;
    }
    var l = ns.split("."),
        r = window;
    try {
        for (var i = 0, len = l.length; i < len; ++i) {
            if (typeof (r[l[i]]) == "undefined") {
                if (_181) {
                    r[l[i]] = {};
                } else {
                    return void (0);
                }
            }
            r = r[l[i]];
        }
        return r;
    } catch (ignore) {
        return void (0);
    }
};
QZFL.lang.objectClone = function (obj, _182) {
    if ((typeof obj) == "object") {
        var res = (QZFL.lang.isArray(obj)) ? [] : {};
        for (var i in obj) {
            if (i != _182) {
                res[i] = QZFL.lang.objectClone(obj[i], _182);
            }
        }
        return res;
    } else {
        if ((typeof obj) == "function") {
            return Object;
        }
    }
    return obj;
};
QZFL.lang.obj2str = function (obj) {
    var t, sw;
    if ((typeof obj) == "object") {
        if (obj === null) {
            return "null";
        }
        sw = QZFL.lang.isArray(obj);
        t = [];
        for (var i in obj) {
            t.push((sw ? "" : ("\"" + QZFL.string.escString(i) + "\":")) + obj2str(obj[i]));
        }
        t = t.join();
        return sw ? ("[" + t + "]") : ("{" + t + "}");
    } else {
        if ((typeof obj) == "function") {
            return "";
        } else {
            if ((typeof obj) == "undefined") {
                return "undefined";
            } else {
                if ((typeof obj) == "number") {
                    return obj.toString();
                }
            }
        }
    }
    return !obj ? "\"\"" : ("\"" + QZFL.string.escString(obj) + "\"");
};
QZFL.lang.propertieCopy = function (s, b, _183, _184) {
    var l = (!_183 || typeof (_183) != "object") ? b : _183;
    s = s || {};
    for (var p in l) {
        if (!_184 || !(p in s)) {
            s[p] = l[p];
        }
    }
    return s;
};
QZFL.lang.tryThese = function () {
    for (var res, i = 0, len = arguments.length; i < len; i++) {
        try {
            return arguments[i]();
        } catch (ignore) { }
    }
    return null;
};
QZFL.lang.chain = function (u, v) {
    var _185 = Array.prototype.slice.call(arguments);
    return function () {
        for (var i = 0, len = _185.length; i < len; i++) {
            if (_185[i] && _185[i].apply(null, arguments) === false) {
                return false;
            }
        }
        return true;
    };
};
QZFL.lang.uniqueArray = function (arr) {
    if (!QZFL.lang.isArray(arr)) {
        return arr;
    }
    var flag = {},
        _186 = 0;
    while (_186 < arr.length) {
        if (flag[arr[_186]] == typeof (arr[_186])) {
            arr.splice(_186, 1);
            continue;
        }
        flag[arr[_186].toString()] = typeof (arr[_186]);
        ++_186;
    }
    return arr;
};
QZFL.XHR = function (_187, _188, _189, data, _18a, _18b) {
    if (!_188) {
        _188 = "_xhrInstence_" + (QZFL.XHR.counter + 1);
    }
    var prot;
    if (QZFL.XHR.instance[_188] instanceof QZFL.XHR) {
        prot = QZFL.XHR.instance[_188];
    } else {
        prot = (QZFL.XHR.instance[_188] = this);
        QZFL.XHR.counter++;
    }
    prot._name = _188;
    prot._nc = !!_18b;
    prot._method = (QZFL.object.getType(_189) != "string" || _189.toUpperCase() != "GET") ? "POST" : (_189 = "GET");
    prot._isAsync = (!(_18a === false)) ? true : _18a;
    prot._uri = _187;
    prot._data = (QZFL.object.getType(data) == "object" || QZFL.object.getType(data) == "string") ? data : {};
    prot._sender = null;
    prot._isHeaderSetted = false;
    prot._xmlQueue = QZFL.queue("xhr" + _188, [function () {
        return new XMLHttpRequest();
    }, function () {
        return new ActiveXObject("Msxml2.XMLHTTP");
    }, function () {
        return new ActiveXObject("Microsoft.XMLHTTP");
    } ]);
    this.onSuccess = QZFL.emptyFn;
    this.onError = QZFL.emptyFn;
    this.charset = "gb2312";
    this.proxyPath = "";
    return prot;
};
QZFL.XHR.instance = {};
QZFL.XHR.counter = 0;
QZFL.XHR._errCodeMap = {
    400: {
        msg: "Bad Request"
    },
    401: {
        msg: "Unauthorized"
    },
    403: {
        msg: "Forbidden"
    },
    404: {
        msg: "Not Found"
    },
    999: {
        msg: "Proxy page error"
    },
    1000: {
        msg: "Bad Response"
    },
    1001: {
        msg: "No Network"
    },
    1002: {
        msg: "No Data"
    },
    1003: {
        msg: "Eval Error"
    }
};
QZFL.XHR.xsend = function (o, uri) {
    if (!(o instanceof QZFL.XHR)) {
        return false;
    }
    if (QZFL.userAgent.firefox && QZFL.userAgent.firefox < 3) {
        return false;
    }

    function _18c(obj) {
        try {
            obj._sender = obj._sender.callback = obj._sender.errorCallback = obj._sender.onreadystatechange = null;
        } catch (ignore) { }
        if (QZFL.userAgent.safari || QZFL.userAgent.opera) {
            setTimeout("QZFL.dom.removeElement($(\"_xsend_frm_" + obj._name + "\"))", 50);
        } else {
            QZFL.dom.removeElement($("_xsend_frm_" + obj._name));
        }
    };
    if (o._sender === null || o._sender === void (0)) {
        var _18d = document.createElement("iframe");
        _18d.id = "_xsend_frm_" + o._name;
        _18d.style.width = _18d.style.height = _18d.style.borderWidth = "0";
        document.body.appendChild(_18d);
        _18d.callback = QZFL.event.bind(o, function (data) {
            o.onSuccess(data);
            _18c(o);
        });
        _18d.errorCallback = QZFL.event.bind(o, function (num) {
            o.onError(QZFL.XHR._errCodeMap[num]);
            _18c(o);
        });
        o._sender = _18d;
    }
    var tmp = QZFL.config.gbEncoderPath;
    o.GBEncoderPath = tmp ? tmp : "";
    o._sender.src = uri.protocol + "://" + uri.host + (this.proxyPath ? this.proxyPath : "/xhr_proxy_gbk.html");
    return true;
};
QZFL.XHR.genHttpParamString = function (o, cs) {
    cs = (cs || "gb2312").toLowerCase();
    var r = [];
    for (var i in o) {
        r.push(i + "=" + ((cs == "utf-8") ? encodeURIComponent(o[i]) : QZFL.string.URIencode(o[i])));
    }
    return r.join("&");
};
QZFL.XHR.prototype.send = function () {
    if (this._method == "POST" && this._data == null) {
        return false;
    }
    var u = new QZFL.util.URI(this._uri);
    if (u == null) {
        return false;
    }
    this._uri = u.href;
    if (QZFL.object.getType(this._data) == "object") {
        this._data = QZFL.XHR.genHttpParamString(this._data, this.charset);
    }
    if (this._method == "GET" && this._data) {
        this._uri += (this._uri.indexOf("?") < 0 ? "?" : "&") + this._data;
    }
    if (u.host != location.host) {
        return QZFL.XHR.xsend(this, u);
    }
    if (this._sender === null || this._sender === void (0)) {
        var _18e = (function () {
            if (!this._xmlQueue.getLen()) {
                return null;
            }
            var _18f = this._xmlQueue.shift();
            if (_18f) {
                return _18f;
            } else {
                return arguments.callee.call(this);
            }
        }).call(this);
        if (!_18e) {
            return false;
        }
        this._sender = _18e;
    }
    try {
        this._sender.open(this._method, this._uri, this._isAsync);
    } catch (err) {
        return false;
    }
    if (this._method == "POST" && !this._isHeaderSetted) {
        this._sender.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
        this._isHeaderSetted = true;
    }
    if (this._nc) {
        this._sender.setRequestHeader("If-Modified-Since", "Thu, 1 Jan 1970 00:00:00 GMT");
        this._sender.setRequestHeader("Cache-Control", "no-cache");
    }
    this._sender.onreadystatechange = QZFL.event.bind(this, function () {
        try {
            if (this._sender.readyState == 4) {
                if (this._sender.status >= 200 && this._sender.status < 300) {
                    this.onSuccess({
                        text: this._sender.responseText,
                        xmlDom: this._sender.responseXML
                    });
                } else {
                    if (QZFL.userAgent.safari && (QZFL.object.getType(this._sender.status) == "undefined")) {
                        this.onError(QZFL.XHR._errCodeMap[1002]);
                    } else {
                        this.onError(QZFL.XHR._errCodeMap[this._sender.status]);
                    }
                }
                delete this._sender;
                this._sender = null;
            }
        } catch (err) { }
    });
    this._sender.send((this._method == "POST" ? this._data : void (0)));
    return true;
};
QZFL.XHR.prototype.destroy = function () {
    var n = this._name;
    delete QZFL.XHR.instance[n]._sender;
    QZFL.XHR.instance[n]._sender = null;
    delete QZFL.XHR.instance[n];
    QZFL.XHR.counter--;
    return null;
};
QZFL.FormSender = function (_190, _191, data, _192) {
    this.name = "_fpInstence_" + QZFL.FormSender.counter;
    QZFL.FormSender.instance[this.name] = this;
    QZFL.FormSender.counter++;
    this.method = _191 || "POST";
    this.uri = _190;
    this.data = (typeof (data) == "object" || typeof (data) == "string") ? data : null;
    this.proxyURL = (typeof (_192) == "string" && _192.toUpperCase() == "UTF-8") ? QZFL.config.FSHelperPage.replace(/_gbk/, "_utf8") : QZFL.config.FSHelperPage;
    this._sender = null;
    this.onSuccess = QZFL.emptyFn;
    this.onError = QZFL.emptyFn;
};
QZFL.FormSender.instance = {};
QZFL.FormSender.counter = 0;
QZFL.FormSender._errCodeMap = {
    999: {
        msg: "Connection or Server error"
    }
};
QZFL.FormSender.pluginsPool = {
    "formHandler": []
};
QZFL.FormSender._pluginsRunner = function (_193, data) {
    var _194 = QZFL.FormSender,
        l = _194.pluginsPool[_193],
        t = data,
        len;
    if (l && (len = l.length)) {
        for (var i = 0; i < len; ++i) {
            if (typeof (l[i]) == "function") {
                t = l[i](t);
            }
        }
    }
    return t;
};
QZFL.FormSender.prototype.send = function () {
    if (this.method == "POST" && this.data == null) {
        return false;
    }

    function _195(o) {
        o._sender = o._sender.callback = o._sender.errorCallback = o._sender.onreadystatechange = null;
        if (QZFL.userAgent.safari || QZFL.userAgent.opera) {
            setTimeout("QZFL.dom.removeElement(document.getElementById(\"_fp_frm_" + o.name + "\"))", 50);
        } else {
            QZFL.dom.removeElement(document.getElementById("_fp_frm_" + o.name));
        }
    };
    if (this._sender === null || this._sender === void (0)) {
        var _196 = document.createElement("iframe");
        _196.id = "_fp_frm_" + this.name;
        _196.style.cssText = "width:0;height:0;border-width:0;display:none;";
        document.body.appendChild(_196);
        _196.callback = QZFL.event.bind(this, function (o) {
            clearTimeout(_197);
            this.onSuccess(o);
            _195(this);
        });
        _196.errorCallback = QZFL.event.bind(this, function (o) {
            clearTimeout(_197);
            this.onError(o);
            _195(this);
        });
        if (typeof (_196.onreadystatechange) != "undefined") {
            _196.onreadystatechange = QZFL.event.bind(this, function () {
                if (this._sender.readyState == "complete" && this._sender.submited) {
                    _195(this);
                    this.onError(QZFL.FormSender._errCodeMap[999]);
                }
            });
        } else {
            var _197 = setTimeout(QZFL.event.bind(this, function () {
                try {
                    var _198 = this._sender.contentWindow.location.href;
                    if (_198.indexOf(this.uri) == 0) {
                        clearTimeout(_197);
                        _195(this);
                        this.onError(QZFL.FormSender._errCodeMap[999]);
                    }
                } catch (err) {
                    clearTimeout(_197);
                    _195(this);
                    this.onError(QZFL.FormSender._errCodeMap[999]);
                }
            }), 200);
        }
        this._sender = _196;
    }
    this._sender.src = this.proxyURL;
    return true;
};
QZFL.FormSender.prototype.destroy = function () {
    var n = this.name;
    delete QZFL.FormSender.instance[n]._sender;
    QZFL.FormSender.instance[n]._sender = null;
    delete QZFL.FormSender.instance[n];
    QZFL.FormSender.counter--;
    return null;
};
QZFL.JsLoader = function (_199) {
    this.debug = _199 || (QZFL.config.debugLevel > 1);
    this.onload = QZFL.emptyFn;
    this.onerror = QZFL.emptyFn;
};
QZFL.JsLoader.prototype.load = function (src, doc, opt) {
    var opts = {},
        t = typeof (opt),
        o = this;
    if (t == "string") {
        opts.charset = opt;
    } else {
        if (t == "object") {
            opts = opt;
        }
    }
    opts.charset = opts.charset || "gb2312";
    setTimeout(function () {
        o._load.apply(o, [src, doc || document, opts]);
        o = null;
    }, 0);
};
QZFL.JsLoader.prototype._load = function (src, doc, opts) {
    var _19a = QZFL.userAgent.ie,
        _19b = doc.createElement("script"),
        o = this,
        _19c = QZFL.dom.removeElement,
        _19d = QZFL.event.addEvent,
        tmp, k;
    _19d(_19b, (_19a ? "readystatechange" : "load"), function () {
        if (!_19b || _19a && !(_19b.readyState == "loaded")) {
            return;
        }
        o.onload();
        if (!o.debug) {
            _19c(_19b);
        }
        _19b = _19c = _19d = o = null;
    });
    if (!_19a) {
        _19d(_19b, "error", function () {
            o.onerror();
            if (!o.debug) {
                _19c(_19b);
            }
            _19b = _19c = _19d = o = null;
        });
    }
    for (k in opts) {
        if (typeof (tmp = opts[k]) == "string" && k.toLowerCase() != "src") {
            _19b.setAttribute(k, tmp);
        }
    }
    doc.getElementsByTagName("head")[0].appendChild(_19b);
    _19b.src = src;
    opts = null;
};
QZFL["jsLoader"] = QZFL.JsLoader;
QZFL.JSONGetter = function (_19e, _19f, data, _1a0, _1a1) {
    if (QZFL.object.getType(_19f) != "string") {
        _19f = "_jsonInstence_" + (QZFL.JSONGetter.counter + 1);
    }
    var prot = QZFL.JSONGetter.instance[_19f];
    if (prot instanceof QZFL.JSONGetter) { } else {
        QZFL.JSONGetter.instance[_19f] = prot = this;
        QZFL.JSONGetter.counter++;
        prot._name = _19f;
        prot._sender = null;
        prot._timer = null;
        this.onSuccess = QZFL.emptyFn;
        this.onError = QZFL.emptyFn;
        this.onTimeout = QZFL.emptyFn;
        this.timeout = 5000;
        this.clear = QZFL.emptyFn;
        this._baseClear = function () {
            this._waiting = false;
            this._squeue = [];
            this._equeue = [];
            this.onSuccess = this.onError = QZFL.emptyFn;
            this.clear = null;
        };
    }
    prot._uri = _19e;
    prot._data = (data && (QZFL.object.getType(data) == "object" || QZFL.object.getType(data) == "string")) ? data : null;
    prot._charset = (QZFL.object.getType(_1a0) != "string") ? QZFL.config.defaultDataCharacterSet : _1a0;
    prot._jMode = !!_1a1;
    return prot;
};
QZFL.JSONGetter.instance = {};
QZFL.JSONGetter.counter = 0;
QZFL.JSONGetter._errCodeMap = {
    999: {
        msg: "Connection or Server error."
    },
    998: {
        msg: "Connection to Server timeout."
    }
};
QZFL.JSONGetter.genHttpParamString = function (o) {
    var r = [];
    for (var i in o) {
        r.push(i + "=" + encodeURIComponent(o[i]));
    }
    return r.join("&");
};
QZFL.JSONGetter.prototype.addOnSuccess = function (f) {
    if (typeof (f) == "function") {
        if (this._squeue && this._squeue.push) { } else {
            this._squeue = [];
        }
        this._squeue.push(f);
    }
};
QZFL.JSONGetter._runFnQueue = function (q, _1a2, th) {
    var f;
    if (q && q.length) {
        while (q.length > 0) {
            f = q.shift();
            if (typeof (f) == "function") {
                f.apply(th ? th : null, _1a2);
            }
        }
    }
};
QZFL.JSONGetter.prototype.addOnError = function (f) {
    if (typeof (f) == "function") {
        if (this._equeue && this._equeue.push) { } else {
            this._equeue = [];
        }
        this._equeue.push(f);
    }
};
QZFL.JSONGetter.pluginsPool = {
    "srcStringHandler": []
};
QZFL.JSONGetter._pluginsRunner = function (_1a3, data) {
    var _1a4 = QZFL.JSONGetter,
        l = _1a4.pluginsPool[_1a3],
        t = data,
        len;
    if (l && (len = l.length)) {
        for (var i = 0; i < len; ++i) {
            if (typeof (l[i]) == "function") {
                t = l[i](t);
            }
        }
    }
    return t;
};
QZFL.JSONGetter.prototype.send = function (_1a5) {
    if (this._waiting) {
        return;
    }
    var cfn = (QZFL.object.getType(_1a5) != "string") ? "callback" : _1a5,
        _1a6, da = this._uri;
    if (this._data) {
        da += (da.indexOf("?") < 0 ? "?" : "&") + ((typeof (this._data) == "object") ? QZFL.JSONGetter.genHttpParamString(this._data) : this._data);
    }
    da = QZFL.JSONGetter._pluginsRunner("srcStringHandler", da);
    if (this._jMode) {
        window[cfn] = this.onSuccess;
        var _1a7 = new QZFL.JsLoader();
        _1a7.onerror = this.onError;
        _1a7.load(da, void (0), this._charset);
        return;
    }
    this._timer = setTimeout((function (th) {
        return function () {
            th.onTimeout();
        };
    })(this), this.timeout);
    if (QZFL.userAgent.ie) {
        if (QZFL.userAgent.beta && navigator.appVersion.indexOf("Trident/4.0") > -1) {
            var _1a8 = new ActiveXObject("htmlfile");
            this.clear = _1a6 = function (o) {
                clearTimeout(o._timer);
                if (o._sender) {
                    o._sender.close();
                    o._sender.parentWindow[cfn] = o._sender.parentWindow["errorCallback"] = null;
                    o._sender = null;
                }
                o._baseClear();
            };
            this._sender = _1a8;
            var _1a9 = (function (th) {
                return (function () {
                    setTimeout((function (_1aa, _1ab) {
                        return (function () {
                            th._waiting = false;
                            _1aa.onSuccess.apply(_1aa, _1ab);
                            QZFL.JSONGetter._runFnQueue(th._squeue, _1ab, th);
                            _1a6(_1aa);
                        });
                    })(th, arguments), 0);
                });
            })(this);
            var _1ac = (function (th) {
                return (function () {
                    th._waiting = false;
                    var _1ad = QZFL.JSONGetter._errCodeMap[999];
                    th.onError(_1ad);
                    QZFL.JSONGetter._runFnQueue(th._equeue, [_1ad], th);
                    _1a6(th);
                });
            })(this);
            _1a8.open();
            _1a8.parentWindow[cfn] = function () {
                _1a9.apply(null, arguments);
            };
            _1a8.parentWindow["errorCallback"] = _1ac;
            this._waiting = true;
            _1a8.write("<script src=\"" + da + "\" charset=\"" + this._charset + "\"></script><script defer>setTimeout(\"try{errorCallback();}catch(ign){}\",0)</script>");
        } else {
            var df = document.createDocumentFragment(),
                _1ae = (QZFL.userAgent.ie == 9 ? document : df).createElement("script");
            _1ae.charset = this._charset;
            this._senderDoc = df;
            this._sender = _1ae;
            this.clear = _1a6 = function (o) {
                clearTimeout(o._timer);
                if (o._sender) {
                    o._sender.onreadystatechange = null;
                }
                df = o._senderDoc = o._sender = null;
                o._baseClear();
            };
            df[cfn] = (function (th) {
                return (function () {
                    th._waiting = false;
                    th.onSuccess.apply(th, arguments);
                    QZFL.JSONGetter._runFnQueue(th._squeue, arguments, th);
                    _1a6(th);
                });
            })(this);
            _1ae.onreadystatechange = (function (th) {
                return (function () {
                    if (th._sender && th._sender.readyState == "loaded") {
                        try {
                            th._waiting = false;
                            var _1af = QZFL.JSONGetter._errCodeMap[999];
                            th.onError(_1af);
                            QZFL.JSONGetter._runFnQueue(th._equeue, [_1af], th);
                            _1a6(th);
                        } catch (ignore) { }
                    }
                });
            })(this);
            this._waiting = true;
            df.appendChild(_1ae);
            this._sender.src = da;
        }
    } else {
        this.clear = _1a6 = function (o) {
            clearTimeout(o._timer);
            if (o._sender) {
                o._sender.src = "about:blank";
                o._sender = o._sender.callback = o._sender.errorCallback = null;
            }
            if (QZFL.userAgent.safari || QZFL.userAgent.opera) {
                setTimeout("QZFL.dom.removeElement($(\"_JSON_frm_" + o._name + "\"))", 50);
            } else {
                QZFL.dom.removeElement($("_JSON_frm_" + o._name));
            }
            o._baseClear();
        };
        var _1a9 = (function (th) {
            return (function () {
                th._waiting = false;
                th.onSuccess.apply(th, arguments);
                QZFL.JSONGetter._runFnQueue(th._squeue, arguments, th);
                _1a6(th);
            });
        })(this);
        var _1ac = (function (th) {
            return (function () {
                th._waiting = false;
                var _1b0 = QZFL.JSONGetter._errCodeMap[999];
                th.onError(_1b0);
                QZFL.JSONGetter._runFnQueue(th._equeue, [_1b0], th);
                _1a6(th);
            });
        })(this);
        var frm = document.createElement("iframe");
        frm.id = "_JSON_frm_" + this._name;
        frm.style.width = frm.style.height = frm.style.borderWidth = "0";
        this._sender = frm;
        var _1b1 = (document.domain == location.host) ? "" : "document.domain=\"" + document.domain + "\";",
            dout = "<html><head><meta http-equiv=\"Content-type\" content=\"text/html; charset=" + this._charset + "\"/></head><body><script>" + _1b1 + ";function " + cfn + "(){frameElement.callback.apply(null, arguments);}</script><script charset=\"" + this._charset + "\" src=\"" + da + "\"></script><script>setTimeout(frameElement.errorCallback,50);</script></body></html>";
        frm.callback = _1a9;
        frm.errorCallback = _1ac;
        this._waiting = true;
        if (QZFL.userAgent.chrome || QZFL.userAgent.opera || QZFL.userAgent.firefox < 3) {
            frm.src = "javascript:'" + encodeURIComponent(QZFL.string.escString(dout)) + "'";
            document.body.appendChild(frm);
        } else {
            document.body.appendChild(frm);
            frm.contentWindow.document.open("text/html");
            frm.contentWindow.document.write(dout);
            frm.contentWindow.document.close();
        }
    }
};
QZFL.JSONGetter.prototype.destroy = function () {
    var n = this._name;
    delete QZFL.JSONGetter.instance[n]._sender;
    QZFL.JSONGetter.instance[n]._sender = null;
    delete QZFL.JSONGetter.instance[n];
    QZFL.JSONGetter.counter--;
    return null;
};
QZFL.cookie = {
    set: function (name, _1b2, _1b3, path, hour) {
        if (hour) {
            var _1b4 = new Date();
            _1b4.setTime(_1b4.getTime() + 3600000 * hour);
        }
        document.cookie = name + "=" + _1b2 + "; " + (hour ? ("expires=" + _1b4.toGMTString() + "; ") : "") + (path ? ("path=" + path + "; ") : "path=/; ") + (_1b3 ? ("domain=" + _1b3 + ";") : ("domain=" + QZFL.config.domainPrefix + ";"));
        return true;
    },
    get: function (name) {
        var r = new RegExp("(?:^|;+|\\s+)" + name + "=([^;]*)"),
            m = document.cookie.match(r);
        return (!m ? "" : m[1]);
    },
    del: function (name, _1b5, path) {
        document.cookie = name + "=; expires=Mon, 26 Jul 1997 05:00:00 GMT; " + (path ? ("path=" + path + "; ") : "path=/; ") + (_1b5 ? ("domain=" + _1b5 + ";") : ("domain=" + QZFL.config.domainPrefix + ";"));
    }
};
QZFL.Storage = {
    helperUrl: "http://imgcache.qq.com/qzone/storage/storage_helper.html",
    ifrCallback: null,
    instance: null,
    getInstance: function () {
        var _1b6 = this["instance"];
        if (_1b6) {
            return _1b6;
        }
        return null;
    }
};
QZFL.Storage.create = function (cb, opt) {
    if (typeof cb != "function") {
        return;
    }
    opt = opt || {};
    var db = null,
        _1b7 = opt.dbname || "qzone_database",
        _1b8 = opt.domain || document.domain,
        _1b9 = opt.helper || QZFL.Storage.helperUrl,
        _1ba = opt.share || false,
        _1bb = ["globalStorage", "localStorage", "userData"];
    if (!opt.noSO) {
        _1bb = ["so"].concat(_1bb);
    }
    var _1bc = QZFL.Storage;
    var _1bd = function (th, type) {
        var i = document.createElement("iframe");
        i.id = "userData_iframe_" + _1b7;
        i.style.display = "none";
        i.src = _1b9;
        QZFL.Storage.ifrCallback = function () {
            db = i.contentWindow.create(_1b7, type);
            if (db) {
                cb(th);
            } else {
                cb(false);
            }
        };
        document.body.appendChild(i);
    };
    var _1be = {};
    _1be.userData = {
        isSupport: !!window.ActiveXObject,
        get: function (key, cb) {
            var val = db.getAttribute(key);
            (typeof cb == "function") && cb(val);
            return val;
        },
        set: function (key, _1bf) {
            try {
                db.setAttribute(key, _1bf);
                db.save(_1b7);
                return true;
            } catch (ex) {
                return false;
            }
        },
        remove: function (key) {
            db.removeAttribute(key);
            db.save(_1b7);
        },
        init: function () {
            if (_1ba) {
                _1bd(this, "userData");
                return;
            }
            var el = (document.documentElement || document.body);
            el.addBehavior("#default#userdata");
            el.load(_1b7);
            db = el;
            cb(this);
        },
        clear: function () {
            db.expires = new Date(1234567890000).toUTCString();
            db.save(_1b7);
        }
    };
    _1be.globalStorage = {
        isSupport: !!window.globalStorage,
        get: function (key, cb) {
            var v = (v = db.getItem(key)) && v.value ? v.value : v;
            (typeof cb == "function") && cb(v);
            return v;
        },
        set: function (key, _1c0) {
            try {
                db.setItem(key, _1c0);
                return true;
            } catch (ex) {
                return false;
            }
        },
        remove: function (key) {
            db.removeItem(key);
        },
        init: function () {
            if (db = window.globalStorage[_1ba ? _1b8 : document.domain]) {
                cb(this);
            } else {
                cb(false);
            }
        },
        clear: function () {
            for (var k in db) {
                db.removeItem(k);
            }
        }
    };
    _1be.localStorage = {
        isSupport: !!window.localStorage,
        get: _1be.globalStorage.get,
        set: _1be.globalStorage.set,
        remove: _1be.globalStorage.remove,
        init: function () {
            if (_1ba) {
                _1bd(this, "localStorage");
                return;
            }
            if (db = window.localStorage) {
                cb(this);
            } else {
                cb(false);
            }
        },
        clear: function () {
            var len = db.length;
            while (len--) {
                db.removeItem(db.key(len));
            }
        }
    };
    _1be.so = {
        isSupport: !!(QZFL.shareObject && QZFL.shareObject.getValidSO()),
        get: function (key, cb) {
            var val = db.get(key);
            (typeof cb == "function") && cb(val);
            return val;
        },
        set: function (key, _1c1) {
            try {
                db.set(key, _1c1);
                return true;
            } catch (ex) {
                return false;
            }
        },
        remove: function (key) {
            db.del(key);
        },
        clear: function () {
            db.clear();
        },
        init: function () {
            if (db = QZFL.shareObject.getValidSO()) {
                cb(this);
            } else {
                cb(null);
            }
        }
    };
    (function () {
        for (var i = 0, len = _1bb.length; i < len; i++) {
            if (_1be[_1bb[i]].isSupport) {
                txv.log("storage:" + _1bb[i]);
                (_1bc["instance"] = _1be[_1bb[i]]).init();
                return;
            }
        }
        cb(false);
    })();
};
(function (qs) {
    var _1c2 = false,
        _1c3 = [],
        opt;
    qs.setOptions = function (opts) {
        opt = opts;
    };
    qs.init = function () {
        var args = arguments;
        if (_1c2) {
            _1c3.push([args[0], args[1]]);
            return;
        }
        _1c3.push([args[0], args[1]]);
        _1c2 = true;
        qs.create(function (ins) {
            var t;
            if (ins) {
                qs.get = ins.get;
                qs.set = ins.set;
                qs.remove = ins.remove;
                qs.clear = ins.clear;
                while (t = _1c3.pop()) {
                    ins[t[0]].apply(null, t[1]);
                }
            } else {
                if (args[0] == "get") {
                    args[1][1](null);
                }
            }
        }, opt);
    };
    qs.get = function () {
        qs.init("get", arguments);
    };
    qs.set = function () {
        qs.init("set", arguments);
    };
    qs.remove = function () {
        qs.init("remove", arguments);
    };
    qs.clear = function () {
        qs.init("clear", arguments);
    };
})(QZFL.Storage);
QZFL.Tween = function (el, _1c4, func, _1c5, _1c6, _1c7) {
    this._func = func || QZFL.transitions.simple;
    this._obj = QZFL.dom.get(el);
    this.isColor = /^#/.test(_1c5);
    this._prop = _1c4;
    var _1c8 = /\d+([a-z%]+)/i.exec(_1c5);
    this._suffix = _1c8 ? _1c8[1] : "";
    this._startValue = this.isColor ? 0 : parseFloat(_1c5);
    this._finishValue = this.isColor ? 100 : parseFloat(_1c6);
    if (this.isColor) {
        this._startColor = QZFL.css.convertHexColor(_1c5);
        this._finishColor = QZFL.css.convertHexColor(_1c6);
    }
    this._duration = _1c7 || 10;
    this._timeCount = 0;
    this._startTime = 0;
    this._changeValue = this._finishValue - this._startValue;
    this.currentValue = 0;
    this.isPlayed = false;
    this.isLoop = false;
    this.onMotionStart = QZFL.emptyFn;
    this.onMotionChange = QZFL.emptyFn;
    this.onMotionStop = QZFL.emptyFn;
};
QZFL.Tween.prototype.start = function (loop) {
    this._reloadTimer();
    this.isPlayed = true;
    this._runTime();
    this.isLoop = loop ? true : false;
    this.onMotionStart.apply(this);
    return "d";
};
QZFL.Tween.prototype.pause = function () {
    this.isPlayed = false;
};
QZFL.Tween.prototype.stop = function () {
    this.isPlayed = false;
    this._playTime(this._duration + 0.1);
};
QZFL.Tween.prototype._reloadTimer = function () {
    this._startTime = new Date().getTime() - this._timeCount * 1000;
};
QZFL.Tween.prototype._playTime = function (time) {
    var _1c9 = false;
    if (time > this._duration) {
        time = this._duration;
        _1c9 = true;
    }
    var _1ca = this._func(time, this._startValue, this._changeValue, this._duration);
    this.currentValue = /(opacity)|(zoom)/i.test(this._prop) ? _1ca : (/(transform)/i.test(this._prop) ? "scale(" + _1ca + ")" : Math.round(_1ca));
    if (this.isColor) {
        this.currentValue = QZFL.Tween.getColor(this._startColor, this._finishColor, _1ca);
    }
    var _1cb = QZFL.dom.setStyle(this._obj, this._prop, this.currentValue + this._suffix);
    if (!_1cb) {
        this._obj[this._prop] = this.currentValue + this._suffix;
    }
    this.onMotionChange.apply(this, [this._obj, this._prop, this.currentValue]);
    if (_1c9) {
        this.isPlayed = false;
        if (this.isLoop) {
            this.isPlayed = true;
            this._reloadTimer();
        }
        this.onMotionStop.apply(this);
        if (window.CollectGarbage) {
            CollectGarbage();
        }
    }
};
QZFL.Tween.prototype._runTime = function () {
    var o = this;
    if (o.isPlayed) {
        o._playTime((new Date().getTime() - this._startTime) / 1000);
        setTimeout(function () {
            o._runTime.apply(o, []);
        }, 0);
    }
};
QZFL.Tween.prototype.getPercent = function () {
    return (this.currentValue - this._startValue) / this._changeValue * 100;
};
QZFL.Tween.prototype.swapValue = function () {
    if (this.isColor) {
        var _1cc = this._startColor.join(",");
        this._startColor = this._finishColor;
        this._finishColor = _1cc.split(",");
    } else {
        var _1cc = this._startValue;
        this._startValue = this._finishValue;
        this._finishValue = _1cc;
        this._changeValue = this._finishValue - this._startValue;
    }
};
QZFL.Tween.getColor = function (_1cd, _1ce, _1cf) {
    var _1d0 = _1cd,
        _1d1 = _1ce,
        _1d2 = [];
    if (_1cf > 100) {
        _1cf = 100;
    }
    if (_1cf < 0) {
        _1cf = 0;
    }
    for (var i = 0; i < 3; i++) {
        _1d2[i] = Math.floor(_1d0[i] * 1 + (_1cf / 100) * (_1d1[i] - _1d0[i])).toString(16);
        if (_1d2[i].length < 2) {
            _1d2[i] = "0" + _1d2[i];
        }
    }
    return "#" + _1d2.join("");
};
QZFL.transitions = {
    simple: function (time, _1d3, _1d4, _1d5) {
        return _1d4 * time / _1d5 + _1d3;
    },
    regularEaseIn: function (t, b, c, d) {
        return c * (t /= d) * t + b;
    },
    regularEaseOut: function (t, b, c, d) {
        return -c * (t /= d) * (t - 2) + b;
    },
    regularEaseInOut: function (t, b, c, d) {
        if ((t /= d / 2) < 1) {
            return c / 2 * t * t + b;
        }
        return -c / 2 * ((--t) * (t - 2) - 1) + b;
    }
};
QZFL.object.map(QZFL.lang || {});
var ua = window.ua || QZFL.userAgent,
    $e = QZFL.element.get,
    $ = QZFL.dom.get,
    removeNode = QZFL.dom.removeElement,
    addEvent = QZFL.event.addEvent,
    removeEvent = QZFL.event.removeEvent,
    getEvent = QZFL.event.getEvent;
QZFL.config.DCCookieDomain = "live.qq.com";
QZFL.config.domainPrefix = "live.qq.com";
QZFL.config.defaultDataCharacterSet = "utf-8";
QZFL.config.defaultShareObject = "http://live.qq.com/toolpages/getset.swf";
if (window.location.href.indexOf("http://cache.tv.qq.com") >= 0) {
    QZFL.config.FSHelperPage = "http://cache.tv.qq.com/v9/toolpages/fp_utf8.html";
}
if (typeof Live == "undefined" || !Live) {
    var Live;
    Live = QZFL;
    if (typeof QQLive != "undefined" && !QQLive) {
        Live.object.extend(Live, QQLive);
    }
    Live.isLoaded = false;
    Live.ver = "$Rev: 3924 $";
    Live.lastmodify = "$Date: 2010-08-18 13:36:04 +0800 (, 18  2010) $";
}
QZFL.element.extendFn({
    val: function (_1d6) {
        if (_1d6 == undefined) {
            return this.getVal();
        }
        this.setVal(_1d6);
    },
    attr: function (key, _1d7) {
        if (_1d7 == undefined) {
            return this.getAttr(key);
        }
        this.setAttr(key, _1d7);
    },
    html: function (_1d8) {
        if (_1d8 == undefined) {
            return this.getHtml();
        }
        this.setHtml(_1d8);
    },
    text: function (_1d9) {
        var attr = "innerText";
        if (!this.elements[0]) {
            return "";
        }
        if (typeof this.elements[0].innerText == "undefined") {
            attr = "textContent";
        }
        if (_1d9 == undefined) {
            return this.getAttr(attr);
        }
        this.setAttr(attr, _1d9);
    },
    css: function (key, _1da) {
        if (_1da == undefined) {
            return this.getStyle(key);
        }
        this.setStyle(key, _1da);
    },
    toggle: function () {
        if (this.getStyle("display") != "none") {
            this.setStyle("display", "none");
            return;
        }
        this.setStyle("display", "");
    },
    focus: function () {
        if (this.elements[0]) {
            this.elements[0].focus();
        }
    },
    select: function () {
        if (this.elements[0]) {
            this.elements[0].select();
        }
    },
    size: function () {
        return this.elements.length;
    },
    removeAttr: function (name) {
        this.each(function (el) {
            el.setAttribute(name, "");
            if (el.nodeType == 1) {
                el.removeAttribute(name);
            }
        });
    },
    index: function (ele) {
        return QZFL.inArray(ele && ele._isElementHandler ? ele.elements[0] : ele, this.elements);
    },
    load: function (url, data, _1db, _1dc) {
        if (QZFL.object.getType(data) == "function") {
            _1dc = data;
            data = null;
            _1db = 0;
        } else {
            if (QZFL.object.getType(_1db) == "function") {
                _1dc = _1db;
                if (QZFL.object.getType(data) == "number") {
                    _1db = data;
                    data = null;
                } else {
                    if (isHashMap(data)) {
                        _1db = 0;
                    }
                }
            }
        }
        var self = this;
        QZFL.ajaxHandle.get(url, data, _1db, function (d) {
            var _1dd = d.replace(/<script(.|\s)*?\/script>/ig, "");
            self.setHtml(_1dd);
            if (QZFL.object.getType(_1dc) == "function") {
                _1dc(self, _1dd);
            }
        });
    }
});
QZFL.ajaxHandle = {
    ajaxSettings: {
        async: true,
        cache: true,
        data: null,
        global: true,
        url: location.href,
        type: "get",
        dataType: "text",
        timeout: 5,
        charset: "utf-8",
        jsonCache: 0,
        CSRF: false
    },
    time33: function (skey) {
        for (var i = 0, len = skey.length, hash = 5381; i < len; ++i) {
            hash += (hash << 5) + skey.charAt(i).charCodeAt();
        }
        return hash & 2147483647;
    },
    getToken: function () {
        var skey = QZFL.cookie.get("skey"),
            _1de = !!skey ? QZFL.ajaxHandle.time33(skey) : "";
        return _1de;
    },
    ajax: function (_1df) {
        if (!!_1df && typeof _1df.type == "string" && _1df.type.toUpperCase() == "POST") {
            _1df.CSRF = true;
        }
        var s = {};
        QZFL.object.extend(s, this.ajaxSettings);
        QZFL.object.extend(s, _1df);
        if (!!s.CSRF) {
            s.url += (s.url.match(/\?/) ? "&" : "?") + "g_tk=" + QZFL.ajaxHandle.getToken();
        }
        var _1e0 = null;
        var _1e1 = s.dataType.toUpperCase();
        if (s.type.toUpperCase() == "POST") {
            var _1e2 = new QZFL.FormSender(s.url, "POST", s.data, s.charset);
            _1e2.onSuccess = function (json) {
                _1e3(json);
            };
            _1e2.onError = _1e4;
            _1e5();
            _1e2.send();
        } else {
            switch (_1e1) {
                case "JSON":
                case "TEXT":
                case "XML":
                    if (s.jsonCache != 0) {
                        s.url += (s.url.match(/\?/) ? "&" : "?") + "_=" + parseInt(new Date().valueOf() / (s.jsonCache * 1000), 10);
                    }
                    _1e0 = new QZFL.XHR(s.url, s.cname, s.type, s.data, s.async, !s.cache);
                    _1e0.charset = s.charset;
                    _1e0.onSuccess = _1e6;
                    _1e0.onError = _1e7;
                    _1e5();
                    _1e0.send();
                    break;
                case "JSONP":
                    s.async = true;
                    var _1e8, jsre = /=\?(&|$)/g;
                    sType = s.type.toUpperCase();
                    if (!s.url.match(jsre) && !s.jsonpFunName) {
                        s.url += (s.url.match(/\?/) ? "&" : "?") + (s.jsonp || "callback") + "=?";
                    }
                    var _1e9 = s.jsonCache == 0 ? new Date().valueOf() : parseInt(new Date().valueOf() / (s.jsonCache * 1000), 10);
                    if (!!s.jsonpFunName) {
                        _1e8 = s.jsonpFunName;
                    } else {
                        _1e8 = s.jsonpFunName || "jsonp" + _1e9;
                        s.url = s.url.replace(jsre, "=" + _1e8 + "$1");
                    }
                    if (s.jsonCache != 0) {
                        s.url += (s.url.match(/\?/) ? "&" : "?") + "_=" + _1e9;
                    }
                    _1e0 = new QZFL.JSONGetter(s.url, s.cname, s.data, s.charset, s.junctionMode);
                    _1e0.onSuccess = _1ea;
                    _1e0.onError = _1e7;
                    _1e0.onTimeout = _1eb;
                    _1e5();
                    _1e0.send(_1e8);
                    break;
                case "SCRIPT":
                    if (s.jsonCache != 0) {
                        s.url += (s.url.match(/\?/) ? "&" : "?") + "_=" + parseInt(new Date().valueOf() / (s.jsonCache * 1000), 10);
                    }
                    var _1ec = new QZFL.JsLoader();
                    _1ec.onload = function () {
                        _1ed();
                    };
                    _1ec.onerror = function () {
                        _1ee();
                    };
                    _1e5();
                    _1ec.load(s.url, document, s.charset);
                    break;
            }
        }

        function _1e5() {
            if (s.beforeSend) {
                s.beforeSend(s);
            }
        };

        function _1e6(data) {
            if (s.success) {
                if (_1e1 == "JSON") {
                    _1ef(data["text"]);
                } else {
                    var _1f0 = _1e1 == "TEXT" ? "text" : "xmlDom";
                    s.success(data[_1f0]);
                }
            }
            _1f1();
        };

        function _1ea(data) {
            if (s.success) {
                s.success(data);
            }
            _1f1();
        };

        function _1e3(json) {
            if (s.success) {
                s.success(json);
            }
            _1f2();
        };

        function _1e4() {
            if (typeof s.error == "function") {
                s.error();
            }
            _1f2();
        };

        function _1f2() {
            if (typeof s.complete == "function") {
                s.complete();
            }
        };

        function _1ed() {
            if (typeof s.success == "function") {
                s.success();
            }
            _1f3();
        };

        function _1ee() {
            if (typeof s.error == "function") {
                s.error();
            }
            _1f3();
        };

        function _1f3() {
            if (typeof s.complete == "function") {
                s.complete();
            }
        };

        function _1ef(text) {
            if (s.success) {
                try {
                    if (typeof JSON == "object" && typeof JSON.parse == "function") {
                        var _1f4 = JSON.parse(text);
                        s.success(_1f4);
                        _1f4 = null;
                        return;
                    }
                    var cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
                        _1f5 = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
                    cx.lastIndex = 0;
                    if (cx.test(text)) {
                        text = text.replace(cx, function (a) {
                            return "\\u" + ("0000" + a.charCodeAt(0).toString(16)).slice(-4);
                        });
                    }
                    if (/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, "@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, "]").replace(/(?:^|:|,)(?:\s*\[)+/g, "").replace(/new Date\(\]\)/g, "]"))) {
                        eval("var __json=" + text + ";");
                        s.success(__json);
                        __json = null;
                        return;
                    }
                } catch (ex) {
                    if (s.error) {
                        s.error();
                    }
                }
            }
        };

        function _1e7(_1f6) {
            if (s.error) {
                s.error(_1f6 || "", QZFL.XHR.instance[_1e0._name]);
            }
            _1f1();
        };

        function _1eb() {
            if (typeof s.timeout == "function") {
                s.timeout(QZFL.XHR.instance[_1e0._name]);
            }
            _1f1();
        };

        function _1f1() {
            if (s.complete) {
                if (!!_1e0 && !!_1e0._name) {
                    s.complete(QZFL.XHR.instance[_1e0._name], s);
                } else {
                    s.complete(null, s);
                }
            }
            if (s.async && !!_1e0 && (_1e1 == "TEXT" || _1e1 == "XML")) {
                try {
                    _1e0 = _1e0.destroy();
                } catch (exception) { }
            }
        };
    },
    get: function (url, data, _1f7, _1f8, _1f9) {
        if (QZFL.object.getType(data) == "function") {
            _1f8 = data;
            data = null;
            _1f7 = 0;
        } else {
            if (QZFL.object.getType(_1f7) == "function") {
                _1f8 = _1f7;
                if (QZFL.object.getType(data) == "number") {
                    _1f7 = data;
                    data = null;
                } else {
                    if (isHashMap(data)) {
                        _1f7 = 0;
                    }
                }
            }
        }
        _1f9 = _1f9 || "text";
        this.ajax({
            url: url,
            data: data,
            dataType: _1f9,
            type: "get",
            jsonCache: _1f7,
            success: _1f8
        });
    },
    getScript: function (url, _1fa) {
        this.ajax({
            url: url,
            success: _1fa,
            dataType: "script"
        });
    },
    getJsonp: function (url, data, _1fb, _1fc) {
        this.get(url, data, _1fb, _1fc, "jsonp");
    },
    getJson: function (url, data, _1fd, _1fe) {
        this.get(url, data, _1fd, _1fe, "json");
    },
    ajaxQueue: function (_1ff) {
        var _200 = _1ff.urls;
        var _201 = _1ff.success || QZFL.emptyFn;
        var _202 = _1ff.error || QZFL.emptyFn;
        var _203 = _1ff.complete || QZFL.emptyFn;
        var _204 = _1ff.beforeSend || QZFL.emptyFn;
        _200 = QZFL.object.getType(_200) == "array" ? _200 : [_200];
        var _205 = false;
        jsonInfo = {};

        function _206(key, json) {
            jsonInfo[key] = json;
            _200.shift();
            if (!!_200.length) {
                return;
            }
            if (!!_205) {
                return;
            }
            _201(jsonInfo);
        };

        function _207(key) {
            _205 = true;
            _200.shift();
            if (typeof _202 == "function") {
                _202(key);
            }
        };

        function _208() {
            if (!!_200.length) {
                return;
            }
            _203();
        };
        var uLen = _200.length;
        _204();
        for (var i = 0; i < uLen; i++) {
            new function () {
                var idx = i;
                var name = _200[idx].name;
                $j.ajax({
                    "url": _200[idx].url,
                    "dataType": _200[idx].dataType,
                    "type": "get",
                    "data": _200[idx].data,
                    "success": function (json) {
                        _206(name, json);
                    },
                    "error": function () {
                        _207(name);
                    },
                    "complete": function () { }
                });
            };
        }
    }
};
window.$j = QZFL.ajaxHandle;
Live.lazyLoad = (function () {
    var _209 = {};
    var _20a = [];
    var _20b = 0;
    var _20c = -1;
    var _20d;
    var _20e;
    var _20f = {};
    var _210 = 0;
    var _211 = true;

    function _212(tags, _213) {
        if (_213) {
            _20d = _213;
        } else {
            _20d = document.compatMode == "BackCompat" ? document.body : document.documentElement;
        }
        _20e = tags || ["img", "iframe"];
    };

    function _214() {
        var _215 = [];
        for (var i = 0, len = _20e.length; i < len; i++) {
            var el = $e(_20e[i] + "[lz_src]").elements;
            for (var j = 0, len2 = el.length; j < len2; j++) {
                _215.push(el[j]);
            }
        }
        for (var key = 0, len = _215.length; key < len; key++) {
            if (typeof (_215[key]) == "object" && _215[key].getAttribute("lz_src")) {
                _20a.push(_215[key]);
            } else { }
        }
        for (var i = 0, len = _20a.length; i < len; i++) {
            var _216 = _20a[i];
            _216.style.visibility = "hidden";
            var _217 = Math.round(QZFL.dom.getXY(_216)[1]);
            if (_209[_217]) {
                _209[_217].push(i);
            } else {
                var _218 = [];
                _218[0] = i;
                _209[_217] = _218;
                _20b++;
            }
        }
    };

    function _219() {
        var _21a = window.pageYOffset || _20d.scrollTop;
        return _20d.clientHeight + _21a;
    };

    function _21b() {
        _210++;
        if (!_20b) {
            _211 = true;
            return;
        }
        var _21c = _219();
        if (_20c >= _21c) {
            setTimeout(_21b, 200);
            return;
        }
        _20c = _21c;
        for (var key in _209) {
            if (_21c > key) {
                var t_o = _209[key];
                var _21d = t_o.length;
                for (var l = 0; l < _21d; l++) {
                    _20a[t_o[l]].src = _20a[t_o[l]].getAttribute("lz_src");
                    _20a[t_o[l]].style.visibility = "visible";
                }
                delete _209[key];
                _20b--;
            } else { }
        }
        for (var key in _20f) {
            if (_21c > key) {
                var t_o = _20f[key];
                var _21d = t_o.length;
                for (var l = 0; l < _21d; l++) {
                    t_o[l]();
                }
                delete _20f[key];
                _20b--;
            }
        }
        setTimeout(_21b, 200);
    };

    function _21e() {
        for (var i = 0, len = _20a.length; i < len; i++) {
            _20a[i].src = _20a[i].getAttribute("lz_src");
            _20a[i].style.visibility = "visible";
        }
        delete _20a;
        delete _209;
        _20b = 0;
    };

    function init(tags, _21f) {
        _212(tags, _21f);
        _214();
        _211 = false;
        setTimeout(function () {
            _21b();
        }, 0);
    };

    function _220(_221, _222, fix) {
        fix = fix || 0;
        if (!_221.getXY) {
            _221 = $e(_221);
        }
        var _223 = _221.getXY()[1] + fix;
        if (_20f[_223]) {
            _20f[_223].push(_222);
        } else {
            var _224 = [];
            _224[0] = _222;
            _20f[_223] = _224;
            _20b++;
        }
        if (_211) {
            _211 = false;
            _21b();
        }
    };
    return {
        init: init,
        lazyFunc: _220,
        getScreenShowHeight: _219
    };
})();
Live.tj2 = {
    jspath: "http://pingjs.qq.com/ping.js",
    keyPrefix: "ISD.LIVEWEB.",
    initPGVGlobalParam: function () {
        pgvVirtualDomain = "";
        pvCurDomain = "";
        pvCurUrl = "";
    },
    isLoadingJs: false,
    hot: function (key) {
        function _225() {
            Live.tj2.initPGVGlobalParam();
            pgvSendClick({
                hottag: Live.tj2.keyPrefix + key
            });
        };
        if (typeof (pgvSendClick) == "function") {
            _225();
        } else {
            $j.getScript(Live.tj2.jspath, _225);
        }
    },
    button: function (key, _226, _227) {
        function _228() {
            if (typeof _226 == "undefined") {
                var _229 = key;
                var _22a = key.split(".");
                if (_22a.length > 0) {
                    _229 = _22a[0];
                }
                _229 += ".html";
                _226 = "/virtualpage/" + _229;
            }
            Live.tj2.initPGVGlobalParam();
            if (typeof _227 != "undefined") {
                pgvSendClick({
                    hottag: Live.tj2.keyPrefix + key,
                    virtualURL: _226,
                    virtualDomain: _227
                });
            } else {
                pgvSendClick({
                    hottag: Live.tj2.keyPrefix + key,
                    virtualURL: _226
                });
            }
        };
        if (typeof (pgvSendClick) == "function") {
            _228();
        } else {
            $j.getScript(Live.tj2.jspath, _228);
        }
    },
    senseParam: null,
    pv: function (_22b) {
        function _22c() {
            Live.tj2.initPGVGlobalParam();
            Live.tj2.isLoadingJs = false;
            if (typeof pvRepeatCount != "undefined") {
                pvRepeatCount = 1;
            }
            if (!_22b && !Live.tj2.senseParam) {
                pgvMain();
            } else {
                var _22d = {};
                if (!!Live.tj2.senseParam) {
                    Live.object.extend(_22d, {
                        "senseParam": Live.tj2.senseParam
                    });
                }
                if (!!_22b) {
                    Live.object.extend(_22d, _22b);
                    if (!!_22b.virtualURL) {
                        pvCurUrl = _22b.virtualURL;
                    }
                }
                pgvMain("", _22d);
            }
            if (typeof (_irt) != "undefined" && location.host != "live.qq.com") {
                _irt.init("");
            }
        };
        if (typeof (pgvMain) == "function") {
            _22c();
        } else {
            if (Live.tj2.isLoadingJs == false) {
                Live.tj2.isLoadingJs = true;
                $j.getScript(Live.tj2.jspath, _22c);
            } else {
                setTimeout(function () {
                    Live.tj2.pv(_22b);
                }, 200);
            }
        }
    },
    watch: function () {
        $e("body").bind("click", function () {
            if (typeof (pgvWatchClick) == "function") {
                Live.tj2.initPGVGlobalParam();
                pgvWatchClick();
            }
        });
    }
};
Live.pgv = Live.tj;
Live.virtualpgv = {
    virtualHost: "pgv.live.qq.com",
    virtualPath: "/liveweb/",
    pv: function (url) {
        Live.tj2.initPGVGlobalParam();
        Live.tj2.pv({
            virtualDomain: Live.virtualpgv.virtualHost,
            virtualURL: [Live.virtualpgv.virtualPath, url].join("")
        });
    }
};
Live.Pager = function () {
    this.eleContainer = null;
    this.alwayShow = false;
    this.totalPage = 0;
    this.pageSize = Live.Pager.Const.PG_DEF_PAGESIZE;
    this.previousPage = 0;
    this.currentPage = 0;
    this.offsetPage = Live.Pager.Const.PG_DEF_OFFSETSIZE;
    this.staus = Live.Pager.Const.PG_STATUS_READY;
    this.initialized = false;
    this.onTurnPage = function (page, _22e) {
        return true;
    };
    this.totalCnt = 0;
    this.id = Live.Pager.maxId;
    this.hideEmpty = true;
    this.Templet = {
        CONTENT: "<form method=\"get\" action=\"##\" id=\"pager_form_{id}\">{begin}<p class=\"mod_pagenav_main\">{previous}<span class=\"mod_pagenav_count\">{first}{prevdot}{pager}{nextdot}{last}</span>{pagecount}{summary}{next}</p><p class=\"mod_pagenav_option\"><span class=\"mod_pagenav_turn\">{goinput}{gobutton}</span></p></form>",
        FIRST_DISABLE: "",
        FIRST_ENABLE: "<a href=\"##\" title=\"1\" id=\"pager_first_{id}\"><span>1</span></a>\n",
        LAST_DISABLE: "",
        LAST_ENABLE: "<a href=\"##\" title=\"{totpage}\" id=\"pager_last_{id}\"><span>{totpage}</span></a>\n",
        PREVIOUS_DISABLE: "<span class=\"mod_pagenav_disable\"><span></span></span>\n",
        PREVIOUS_ENABLE: "<a href=\"##\" id=\"pager_previous_{id}\" title=\"\"><span></span></a>\n",
        NEXT_DISABLE: "<span class=\"mod_pagenav_disable\"><span></span></span>\n",
        NEXT_ENABLE: "<a href=\"##\" title=\"\" id=\"pager_next_{id}\"><span></span></a>\n",
        PAGE_NORMAL: "<a href=\"##\" id=\"pager_num_{id}_{pagenum}\" title=\"{pagenum}\"><span>{pagenum}</span></a>\n",
        PAGE_CURRENT: "<span class=\"current\"><span>{pagenum}</span></span>\n",
        GO_PAGE_INPUT: "<span class=\"mod_pagenav_turn\"><input type=\"text\" id=\"pager_input_{id}\" name=\"PageCount\" autocomplete=\"off\"/>\n",
        GO_PAGE_BUTTON: "<button type=\"submit\" id=\"pager_btn_{id}\"><span></span></button>\n",
        PAGE_COUNT: "<span class=\"mod_pagenav_count2\"><span class=\"current\">{curpg}</span>/{totpage}</span>\n",
        PREVDOT_ENABLE: "<span class=\"mod_pagenav_more\"><span></span></span>\n",
        PREVDOT_DISABLE: "",
        NEXTDOT_ENABLE: "<span class=\"mod_pagenav_more\"><span></span></span>\n",
        NEXTDOT_DISABLE: "",
        SUMMARY: "",
        BEGIN: ""
    };
    Live.Pager.items[Live.Pager.maxId] = this;
    Live.Pager.maxId++;
};
Live.Pager.Const = {
    PG_STATUS_READY: 0,
    PG_STATUS_GO: 1,
    PG_DEF_OFFSETSIZE: 2,
    PG_DEF_PAGESIZE: 20
};
Live.Pager.maxId = 0;
Live.Pager.items = {};
Live.Pager.prototype.init = function (_22f, _230) {
    if (!_22f || !_230) {
        return;
    }
    this.eleContainer = _22f;
    this.totalPage = _230;
    this.initialized = true;
};
Live.Pager.prototype.fillPager = function () {
    if (!this.initialized || !this.currentPage || !this.eleContainer) {
        return;
    }
    var _231 = [];
    var _232 = "";
    var _233, end, i;
    var aBtn;
    this.currentPage = parseInt(this.currentPage, 10);
    this.offsetPage = parseInt(this.offsetPage);
    _233 = (this.currentPage - this.offsetPage > 0) ? (this.currentPage - this.offsetPage) : 1;
    end = (this.currentPage + this.offsetPage <= this.totalPage) ? (this.currentPage + this.offsetPage) : this.totalPage;
    var _234, _235;
    _234 = this.currentPage - _233;
    _234 = _234 > 0 ? _234 : 0;
    _235 = end - this.currentPage;
    _235 = _235 > 0 ? _235 : 0;
    if (_234 + _235 < this.offsetPage * 2) {
        m = Math.abs(_234 - _235);
        if (_234 < _235) {
            end = end + m;
        } else {
            _233 = _233 - m;
        }
    }
    if (end > this.totalPage) {
        end = this.totalPage;
    }
    if (_233 < 1) {
        _233 = 1;
    }
    if (_233 - 1 >= 2 && this.currentPage - _233 >= 2) {
        _233++;
    }
    if (end + 2 == this.totalPage) {
        end++;
    }
    for (i = _233; i <= end && i <= this.totalPage; i++) {
        if (i == 1 && this.currentPage != 1) {
            continue;
        }
        if (i == this.totalPage && this.currentPage != this.totalPage) {
            continue;
        }
        if (i == this.currentPage) {
            _231.push(this.Templet.PAGE_CURRENT.replace(/\{pagenum\}/g, i));
        } else {
            _231.push(this.Templet.PAGE_NORMAL.replace(/\{pagenum\}/g, i));
        }
    }
    _232 = this.Templet.CONTENT.replace(/\{pager\}/g, _231.join(""));
    _232 = _232.replace(/\{prevdot\}/g, _233 - 1 > 1 ? this.Templet.PREVDOT_ENABLE : this.Templet.PREVDOT_DISABLE);
    _232 = _232.replace(/\{nextdot\}/g, this.totalPage - end > 1 ? this.Templet.NEXTDOT_ENABLE : this.Templet.NEXTDOT_DISABLE);
    _232 = _232.replace(/\{first\}/g, (this.currentPage == 1) ? this.Templet.FIRST_DISABLE : this.Templet.FIRST_ENABLE);
    _232 = _232.replace(/\{previous\}/g, (this.currentPage == 1) ? this.Templet.PREVIOUS_DISABLE : this.Templet.PREVIOUS_ENABLE);
    _232 = _232.replace(/\{next\}/g, (this.currentPage == this.totalPage) ? this.Templet.NEXT_DISABLE : this.Templet.NEXT_ENABLE);
    _232 = _232.replace(/\{last\}/g, (this.currentPage == this.totalPage) ? this.Templet.LAST_DISABLE : this.Templet.LAST_ENABLE);
    _232 = _232.replace(/\{goinput\}/g, this.Templet.GO_PAGE_INPUT);
    _232 = _232.replace(/\{gobutton\}/g, this.Templet.GO_PAGE_BUTTON);
    _232 = _232.replace(/\{summary\}/g, this.Templet.SUMMARY);
    _232 = _232.replace(/\{pagecount\}/g, this.Templet.PAGE_COUNT);
    _232 = _232.replace(/\{id\}/g, this.id);
    _232 = _232.replace(/\{begin\}/g, this.Templet.BEGIN);
    _232 = _232.replace(/\{totpage\}/g, this.totalPage);
    _232 = _232.replace(/\{curpg\}/g, this.currentPage);
    _232 = _232.replace(/\{pagenum\}/g, this.currentPage);
    _232 = _232.replace(/\{totalcnt\}/g, this.totalCnt);
    if (this.totalPage <= 1 && this.alwayShow == false) {
        this.eleContainer.style.display = (this.hideEmpty ? "none" : "");
    } else {
        this.eleContainer.style.display = "";
    }
    this.eleContainer.innerHTML = _232;
    for (i = _233; i <= end; i++) {
        if (aBtn = $("pager_num_" + this.id + "_" + i)) {
            QZONE.event.addEvent(aBtn, "click", QZONE.event.bind(this, "goPage", i));
        }
    }
    var self = this;
    if (aBtn = $("pager_first_" + this.id)) {
        QZONE.event.addEvent(aBtn, "click", QZONE.event.bind(this, "goPage", 1, this.pageSize));
    }
    if (aBtn = $("pager_previous_" + this.id)) {
        QZONE.event.addEvent(aBtn, "click", QZONE.event.bind(this, "goPage", this.currentPage - 1, this.pageSize));
    }
    if (aBtn = $("pager_next_" + this.id)) {
        QZONE.event.addEvent(aBtn, "click", QZONE.event.bind(this, "goPage", this.currentPage + 1, this.pageSize));
    }
    if (aBtn = $("pager_last_" + this.id)) {
        QZONE.event.addEvent(aBtn, "click", QZONE.event.bind(this, "goPage", this.totalPage, this.pageSize));
    }
    if (aBtn = $("pager_form_" + this.id)) {
        $("pager_form_" + this.id).onsubmit = function () {
            if (self.checkPage()) {
                var $ele = $e("#pager_input_" + self.id);
                var _236 = QZFL.string.trim($ele.getVal());
                self.goPage(_236);
                return false;
            }
            return false;
        };
    }
};
Live.Pager.prototype.goPage = function (page) {
    page = parseInt(page, 10);
    if (isNaN(page)) {
        page = 1;
    }
    if (page < 1) {
        page = 1;
    } else {
        if (page > this.totalPage) {
            page = this.totalPage;
        }
    }
    this.previousPage = this.currentPage;
    this.currentPage = page;
    if (typeof this.onTurnPage == "function") {
        if (!this.onTurnPage(this.currentPage, this.pageSize)) {
            return false;
        }
    }
    this.fillPager();
    Live.event.preventDefault();
    return false;
};
Live.Pager.prototype.checkPage = function () {
    var $ele = $e("#pager_input_" + this.id);
    var _237 = QZFL.string.trim($ele.getVal());
    if (_237.length == 0) {
        this.showError("");
        $ele.focus();
        $ele.elements[0].select();
        return false;
    }
    if (/^\d+$/.test(_237) == false) {
        this.showError("");
        $ele.elements[0].focus();
        $ele.elements[0].select();
        return false;
    }
    _237 = parseInt(_237, 10);
    if (_237 <= 0 || _237 > this.totalPage) {
        this.showError("");
        $ele.elements[0].focus();
        $ele.elements[0].select();
        return false;
    }
    return true;
};
Live.Pager.prototype.showError = function (msg) {
    alert(msg);
};
Live.Pager.prototype.refresh = function () {
    this.goPage(this.currentPage);
};
Live.TabShow = function () {
    this.config = {
        tabItems: null,
        contentItems: null,
        getType: "ajax",
        ajaxAttr: "rel",
        tabShowCss: "current",
        mouseEvt: "mouseover",
        mouseDelay: 300,
        enableClick: true,
        callback: null,
        jsonInterval: 0,
        jsonpFun: null,
        isReturnFalse: true,
        showCss: null,
        hideCss: null,
        afterShowContent: null,
        defaultIndex: 0
    };
    _timer = [];
};
Live.TabShow.prototype = {
    init: function (_238) {
        for (var prop in _238) {
            this.config[prop] = _238[prop];
        }
        var self = this;
        if (this.config.mouseEvt == "mouseover") {
            this.config.tabItems.each(function (el, i) {
                var $el = $e(el);
                $el.attr("hideFocus", "true");
                $el.bind("mouseover", function () {
                    _timer[0] = setTimeout(function () {
                        self.change(i);
                    }, self.config.mouseDelay);
                });
                $el.bind("mouseout", function () {
                    if (_timer && _timer[0] != -1) {
                        clearTimeout(_timer[0]);
                        _timer[0] = -1;
                    }
                });
                if (self.config.enableClick) {
                    $e(el).bind("click", function () {
                        self.change(i);
                        if (self.config.isReturnFalse == true) {
                            return false;
                        }
                    });
                }
            });
        } else {
            this.config.tabItems.each(function (el, i) {
                $e(el).bind(self.config.mouseEvt, function () {
                    self.change(i);
                });
            });
        }
        if (this.config.defaultIndex >= 0) {
            this.change(this.config.defaultIndex);
        }
    },
    change: function (_239) {
        var _23a = this.config.contentItems.size();
        if (_23a != 1 && (_239 < 0 || _239 > _23a - 1)) {
            return;
        }
        var _23b = _23a == this.config.tabItems.size() ? this.config.contentItems.get(_239) : this.config.contentItems.get(0);
        var $tab = this.config.tabItems.get(_239);
        var self = this;
        if (this.config.getType == "ajax" || this.config.getType == "html" || this.config.getType == "json" || this.config.getType == "jsonp" || this.config.getType == "script") {
            if (_23a != this.config.tabItems.size() || Live.string.trim(_23b.html()).length == 0) {
                if (this.config.getType == "ajax" || this.config.getType == "html") {
                    _23b.load(this.config.tabItems.get(_239).attr(this.config.ajaxAttr), function () {
                        self.config.callback(_23b, {}, $tab);
                        self.showContent(_239);
                        self.afterShowContentHandle($tab, _23b, _239);
                        return;
                    });
                } else {
                    if (this.config.getType == "json") {
                        $j.getJson(this.config.tabItems.get(_239).attr(this.config.ajaxAttr), this.config.jsonInterval, function (json) {
                            if (typeof self.config.callback == "function") {
                                self.config.callback(_23b, json, $tab);
                                self.showContent(_239);
                                self.afterShowContentHandle($tab, _23b, _239);
                            }
                        });
                    } else {
                        if (this.config.getType == "jsonp") {
                            $j.ajax({
                                dataType: "jsonp",
                                url: self.config.tabItems.get(_239).attr(this.config.ajaxAttr),
                                jsonpFunName: self.config.jsonpFun,
                                jsonCache: self.config.jsonInterval,
                                success: function (json) {
                                    self.config.callback(_23b, json, $tab);
                                    self.showContent(_239);
                                    self.afterShowContentHandle($tab, _23b, _239);
                                }
                            });
                        } else {
                            if (this.config.getType == "script") {
                                $j.ajax({
                                    dataType: "script",
                                    url: self.config.tabItems.get(_239).attr(this.config.ajaxAttr),
                                    jsonCache: self.config.jsonInterval,
                                    success: function (json) {
                                        self.config.callback(_23b, {}, $tab);
                                        self.showContent(_239);
                                        self.afterShowContentHandle($tab, _23b, _239);
                                    }
                                });
                            }
                        }
                    }
                }
            } else {
                self.showContent(_239);
                self.afterShowContentHandle($tab, _23b, _239);
            }
        } else {
            self.showContent(_239);
            self.afterShowContentHandle($tab, _23b, _239);
        }
    },
    showContent: function (_23c) {
        if (!!this.config.showCss || !!this.config.hideCss) {
            this.config.tabItems.attr("className", this.config.hideCss);
            this.config.tabItems.get(_23c).attr("className", this.config.showCss);
        } else {
            this.config.tabItems.removeClass(this.config.tabShowCss);
            this.config.tabItems.get(_23c).addClass(this.config.tabShowCss);
        }
        if (this.config.contentItems.size() == this.config.tabItems.size()) {
            this.config.contentItems.hide();
            var cur = this.config.contentItems.get(_23c);
            cur.show();
            var $img = cur.find("img");
            if (!$img.attr("src")) {
                $img.css("visibility", "");
                $img.attr("src", $img.attr("_src"));
            }
        }
    },
    afterShowContentHandle: function ($tab, _23d, _23e) {
        if (typeof this.config.afterShowContent == "function") {
            this.config.afterShowContent($tab, _23d, _23e);
        }
    }
};
Live.SimpleImgShow = function () {
    this.config = {
        showCnt: 6,
        items: null,
        playRight: null,
        playLeft: null,
        curPage: 0,
        disCss: "over",
        showImgOnInit: true,
        defaultIndex: 0,
        isPolish: true,
        onchange: null
    };
};
Live.SimpleImgShow.prototype = {
    init: function (_23f) {
        for (var prop in _23f) {
            this.config[prop] = _23f[prop];
        }
        var self = this;
        this.config.playRight.bind("mouseup", function () {
            self.moveR();
        });
        this.config.playLeft.bind("mouseup", function () {
            self.moveL();
        });
        if (this.config.defaultIndex >= 0) {
            this.show(this.config.defaultIndex);
        }
    },
    play: function (_240) {
        if (_240 < 0 && this.config.curPage == 0) {
            return;
        }
        if (_240 > 0 && this.config.curPage == Math.ceil(this.config.items.size() / this.config.showCnt) - 1) {
            return;
        }
        var _241 = 0,
            iend = 0;
        _241 = this.config.curPage * this.config.showCnt + _240;
        iend = (this.config.curPage + 1) * this.config.showCnt + _240 - 1;
        _241 = _241 < 0 ? 0 : _241;
        iend = iend > this.config.items.size() - 1 ? this.config.items.size() - 1 : iend;
        if (!!this.config.isPolish) {
            if (iend - _241 + 1 < this.config.showCnt) {
                _241 = _241 - (this.config.showCnt - (iend - _241)) + 1;
            }
        }
        this.showBySE(_241, iend, _240);
    },
    showBySE: function (_242, iend, _243) {
        for (var i = _242; i <= iend; i++) {
            var _244 = this.config.items.get(i);
            if (!_244) {
                return;
            }
            if (!!this.config.showImgOnInit) {
                var $img = _244.find("img");
                if (!$img.attr("src")) {
                    $img.attr("src", $img.attr("_src"));
                }
            }
            _244.show();
        }
        for (var i = 0; i < _242; i++) {
            this.config.items.get(i).hide();
        }
        for (var i = iend + 1, len = this.config.items.elements.length; i < len; i++) {
            this.config.items.get(i).hide();
        }
        if (_243 > 0) {
            this.config.curPage++;
        } else {
            if (_243 < 0) {
                this.config.curPage--;
            }
        }
        this.setBtn();
        if (typeof this.config.onchange == "function") {
            this.config.onchange(_242, iend, this.config.curPage);
        }
    },
    show: function (_245) {
        var _246 = 0,
            iend = 0;
        _246 = _245 * this.config.showCnt;
        iend = _246 + this.config.showCnt - 1;
        offset = _246 - this.config.curPage * this.config.showCnt;
        this.showBySE(_246, iend, offset);
    },
    moveR: function () {
        this.play(this.config.showCnt);
    },
    moveL: function () {
        this.play(-1 * this.config.showCnt);
    },
    setBtn: function () {
        if (this.config.curPage <= 0) {
            this.config.playLeft.addClass(this.config.disCss);
        } else {
            this.config.playLeft.removeClass(this.config.disCss);
        }
        if (this.config.curPage == Math.ceil(this.config.items.size() / this.config.showCnt) - 1) {
            this.config.playRight.addClass(this.config.disCss);
        } else {
            this.config.playRight.removeClass(this.config.disCss);
        }
    }
};
if (typeof (Live.common) == "undefined") {
    Live.common = {};
}
Live.SearchBox = function (_247) {
    this.config = {
        defaultTxt: "",
        inputBox: null,
        sugSelector: null,
        searchBtn: null,
        searchForm: null,
        sugCover: null
    };
    Live.object.extend(this.config, _247);
    this.selectedIndex = -1;
    this.itemsCount = 0;
    this.timer = [];
};
Live.SearchBox.prototype = {
    search_cgi: "",
    search_suggest: "",
    init: function () {
        var self = this;
        var $el = this.config.inputBox;
        $el.val(this.config.defaultTxt);
        document.sform.onsubmit = function () {
            return self.go();
        };
        this.initSmartBox();
        $el.bind("focus", function () {
            var v = QZFL.string.trim($el.val());
            if (v == self.config.defaultTxt) {
                $el.val("");
            } else {
                $el.select();
            }
            $el.addClass("onfocus");
        });
    },
    go: function () {
        txv.log("search go");
        Live.tj2.button("search.btn");
        var val = QZFL.string.trim(this.config.inputBox.val());
        if (val == "" || val == this.config.defaultTxt) {
            return false;
        }
        if (document.charset != "utf-8" && Live.userAgent.ie) {
            var _248 = document.charset;
            document.charset = "utf-8";
            setTimeout(function () {
                document.charset = _248;
            }, 0);
        }
        document.sform.action = Live.SearchBox.search_cgi;
        return true;
    },
    resetInputBox: function (_249) {
        var $el = this.config.inputBox;
        var v = QZFL.string.trim($el.val());
        if (v == "" || v == this.config.defaultTxt) {
            if (_249) {
                $el.val(this.config.defaultTxt);
            }
            $el.attr("class", "mod_search_txt");
        } else {
            $el.attr("class", "mod_search_txt");
        }
    },
    initSmartBox: function () {
        var self = this;
        this.config.inputBox.bind("keyup", function (e) {
            if (e.keyCode == 38 || e.keyCode == 40) {
                clearTimeout(self.timer[0]);
                return;
            }
            self.timer[0] = setTimeout(function () {
                clearTimeout(self.timer[0]);
                self.selectedIndex = -1;
                self.getSuggest();
            }, 300);
        });
        this.config.inputBox.bind("keydown", function (e) {
            self.resetInputBox(false);
            $e("#iWord").addClass("onfocus");
            if (e.keyCode == 38) {
                self.choose("up", true);
                return;
            } else {
                if (e.keyCode == 40) {
                    self.choose("down", true);
                    return;
                }
            }
        });
        this.config.inputBox.bind("blur", function () {
            self.hideSelector();
            self.resetInputBox(true);
        });
    },
    choose: function (key, fill) {
        fill = fill | false;
        if (typeof key == "string") {
            if (key == "up") {
                if (this.selectedIndex <= 0) {
                    this.selectedIndex = this.itemsCount;
                }
                this.selectedIndex--;
            } else {
                if (key == "down") {
                    if (this.selectedIndex >= this.itemsCount - 1) {
                        this.selectedIndex = -1;
                    }
                    this.selectedIndex++;
                }
            }
        } else {
            if (typeof key == "number") {
                this.selectedIndex = key;
            }
        }
        this.config.sugSelector.find("li.current").removeClass("current");
        var _24a = this.config.sugSelector.find("li:eq(" + this.selectedIndex + ")");
        _24a.addClass("current");
        if (!!fill) {
            this.config.inputBox.val(_24a.text());
        }
    },
    hideSelector: function () {
        this.config.sugSelector.html("");
        this.config.sugSelector.hide();
        this.config.sugCover.hide();
    },
    getSuggest: function () {
        var self = this;
        var val = QZFL.string.trim(this.config.inputBox.val());
        if (val == "") {
            this.hideSelector();
            return;
        }
        $j.getScript(Live.SearchBox.search_suggest + encodeURIComponent(val), function () {
            var _24b = QZOutputJson;
            var sb = new Live.string.StringBuilder();
            self.itemsCount = _24b.head.num;
            if (self.itemsCount == 0) {
                self.config.sugSelector.hide();
                self.config.sugCover.hide();
                return;
            }
            try {
                for (var i = 0; i < _24b.item.length; i++) {
                    sb.appendArray(["<li><a href='#' target='_self'>", _24b.item[i].w, "</a></li>"]);
                }
                self.config.sugSelector.html(sb.toString());
                self.config.sugSelector.show();
                self.config.sugCover.show();
                self.bindListMouseEvt();
            } catch (e) {
                txv.log(e);
            }
        });
    },
    bindListMouseEvt: function () {
        var self = this;
        this.config.sugSelector.find("li").each(function (el, i) {
            var $el = $e(el);
            $el.bind("mouseover", function () {
                self.choose(i);
                self.config.inputBox.unBind("blur");
            });
            $el.bind("mouseout", function () {
                self.config.inputBox.bind("blur", function () {
                    self.hideSelector();
                });
            });
            $el.bind("click", function () {
                self.choose(i, true);
                self.hideSelector();
                self.go();
                document.sform.submit();
            });
        });
    }
};
Live.SearchBox.defaultInit = function (_24c, _24d) {
    var _24e = false;
    this.search_cgi = _24c;
    this.search_suggest = _24d;
    var sb = new Live.SearchBox({
        inputBox: $e("#iWord"),
        sugSelector: $e("#sgt_list"),
        searchBtn: $e("#sbutton"),
        searchForm: $e("#sform"),
        sugCover: $e("#mod_keywords_list")
    });
    sb.init();
};
Live.FloatMenu = function (_24f) {
    this.mark1 = false;
    this.mark2 = false;
    this.area = null;
    this.menu = null;
    this.areaOutdelay = 500;
    this.menuOutdelay = 100;
    this.onShow = null;
    this.onHide = null;
    var self = this;
    for (var prop in _24f) {
        this[prop] = _24f[prop];
    }
    this.area.bind("mouseover", function () {
        self.mark1 = true;
        self.showMenu();
    });
    this.menu.bind("mouseover", function (e) {
        self.mark2 = true;
        self.showMenu();
    });
    this.area.bind("mouseout", function () {
        self.mark1 = false;
        setTimeout(function () {
            self.hideMenu();
        }, self.areaOutdelay);
    });
    this.menu.bind("mouseout", function (e) {
        self.mark2 = false;
        setTimeout(function () {
            self.hideMenu();
        }, self.menuOutdelay);
    });
};
Live.FloatMenu.prototype = {
    showMenu: function () {
        if (this.mark1 || this.mark2) {
            if (this.onShow) {
                this.onShow(this);
            }
            this.menu.show();
        } else { }
    },
    hideMenu: function () {
        if (!(this.mark1 || this.mark2)) {
            if (this.onHide) {
                this.onHide(this);
            }
            this.menu.hide();
        }
    },
    getEventTarget: function (e) {
        e = e || window.event;
        return e.target || e.srcElement;
    }
};
Live = Live || {};
Live.txv = {
    isLoaded: false,
    ver: "$Rev: 8562 $",
    lastmodify: "$Date: 2011-05-12 20:14:48 +0800 (, 12  2011) $",
    isDebug: false
};
var txv = window.txv = Live.txv;
Live.tj2.keyPrefix = "txv.";
Live.virtualpgv.virtualPath = "/txv/";
if (QZFL && QZFL.object) {
    QZFL.object.extend(Live, {
        inArray: function (elem, _250) {
            if (Live.object.getType(_250) != "array") {
                return -1;
            }
            for (var i = 0, _251 = _250.length; i < _251; i++) {
                if (_250[i] === elem) {
                    return i;
                }
            }
            return -1;
        }
    });
    if (QZFL.userAgent.ie && QZFL.userAgent.ie < 8) {
        QZFL.Storage.helperUrl = "http://v.qq.com/storage_helper.html";
        QZFL.Storage.setOptions({
            share: true
        });
    }
}
Live.txv.path = {
    trimpath: "http://imgcache.qq.com/tencentvideo_v1/js/trimpath.min.js",
    filmCritic: "http://sns.video.qq.com/fcgi-bin/liveportal/getfilmcritic?otype=json",
    userComment: "http://sns.video.qq.com/fcgi-bin/liveportal/comment?otype=json",
    videoInfo: "http://sns.video.qq.com/tvideo/fcgi-bin/video?otype=json",
    videoTagInfo: "http://sns.video.qq.com/tvideo/fcgi-bin/vtag?otype=json",
    search_cgi: "http://v.qq.com/search.html?mi_pagenum=0&ms_search_type=1&ms_sort=0&ms_mode=0&pagetype=3",
    search_suggest: "http://sns.video.qq.com/fcgi-bin/soso_suggestion?sm_category=3&sm_need_num=10&otype=json&sm_key=",
    pingfencgi: "http://sns.video.qq.com/fcgi-bin/portalscore?otype=json",
    favouritecgi: "http://sns.video.qq.com/fcgi-bin/liveportal/favorite",
    weiboget: "http://sns.video.qq.com/tvideo/fcgi-bin/opmicroblog?otype=json",
    weiboSend: "http://sns.video.qq.com/tvideo/fcgi-bin/pubmblog",
    weiboSend_2: "http://sns.video.qq.com/tvideo/fcgi-bin/livepubmblog4po",
    videoRelate: "http://sns.video.qq.com/tvideo/fcgi-bin/relatedvideo?otype=json",
    singerMVList: "http://sns.video.qq.com/tvideo/fcgi-bin/GetSingerMV?otype=json",
    flashReport: "http://rcgi.video.qq.com/tencentvideo_report?",
    html5_video_cgi: "http://vv.video.qq.com/geturl?otype=json",
    addMvMusicBox: "http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_add.fcg",
    queryMvMusicBox: "http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_isadded.fcg",
    delMvMusicBox: "http://s.plcloud.music.qq.com/fcgi-bin/fcg_mvlist_mod.fcg",
    videoViewNum: "http://sns.video.qq.com/tvideo/fcgi-bin/viewnum?otype=json"
};
Live.txv.login = {
    config: {
        appid: "532001601",
        uinCookie: "uin",
        nickCookie: "lw_nick",
        quickLogin: true,
        jumpurl: "",
        clientjumpurl: null,
        showMask: true,
        success: null,
        logout: null,
        rejectLogin: null,
        login_cgi: "http://c.video.qq.com/cgi-bin/login?otype=json",
        show_uniq: false,
        show_content: ""
    },
    init: function (_252, _253) {
        _253 = !!_253;
        Live.object.extend(this.config, _252);
        txv.login.setStatus(_253, false);
    },
    ReTryType: {
        openclient: 1,
        reloadcgi: 2
    },
    isOpend: false,
    isLogin: function () {
        return (txv.login.getUin() > 10000);
    },
    setStatus: function (_254, _255) {
        if (txv.login.getUin() == 0) {
            txv.login.logout();
            return;
        }
        if (txv.login.getNick() == "" || _255 == true) {
            $j.getScript(txv.login.config.login_cgi + "&_=" + new Date().valueOf(), function () {
                if (typeof QZOutputJson != "undefined") {
                    if (QZOutputJson.result && QZOutputJson.result.code == "0") {
                        if (typeof QZOutputJson.nick != "undefined") {
                            if (location.host.indexOf("qq.com") >= 0) {
                                Live.cookie.set(txv.login.config.nickCookie, QZOutputJson.nick + "|" + txv.login.getUin(), location.host, "/");
                            }
                            txv.login.showOnline();
                            if (_254 != false && typeof txv.login.config.success == "function") {
                                txv.login.config.success();
                            }
                        } else {
                            txv.login.showOnline();
                        }
                    } else {
                        if (QZOutputJson.result && QZOutputJson.result.code != "0") {
                            if (QZOutputJson.result.code == "100001") {
                                txv.login.logout();
                            } else {
                                if (QZOutputJson.result.code == "2504") {
                                    txv.login.showOnline();
                                }
                            }
                        }
                    }
                } else {
                    txv.login.logout();
                }
            });
        } else {
            txv.login.showOnline();
            if (_254 == true && typeof txv.login.config.success == "function") {
                txv.login.config.success();
            }
        }
    },
    getUin: function () {
        if (Live.string.trim(Live.cookie.get("skey")) == "") {
            return 0;
        }
        var uin = parseInt(Live.cookie.get(txv.login.config.uinCookie).replace(/^o0*/g, ""), 10);
        if (uin <= 10000) {
            return 0;
        }
        return uin;
    },
    getNick: function () {
        if (Live.string.trim(Live.cookie.get("skey")) == "") {
            return "";
        }
        var n = Live.cookie.get(txv.login.config.nickCookie);
        if (n == "") {
            return n;
        }
        var arr = n.split("|");
        if (arr[1] && arr[1] == this.getUin()) {
            return decodeURIComponent(arr[0]);
        }
        return "";
    },
    showOnline: function (_256) {
        var _257 = $e("#login_nick");
        if (txv.login.config.show_uniq) {
            _257.text(["", txv.login.getUin()].join(""));
        } else {
            _257.text(["", txv.login.getNick(), "(", txv.login.getUin(), ")"].join(""));
        }
        var _258 = $e("#login_action");
        _258.text("[]");
        _258.unBind("click");
        _258.bind("click", txv.login.logout);
    },
    showNotLogin: function () {
        var _259 = $e("#login_nick");
        if (txv.login.config.show_uniq) {
            _259.text("");
        } else {
            _259.text("");
        }
        var _25a = $e("#login_action");
        _25a.text("");
        _25a.unBind("click");
        _25a.bind("click", txv.login.openLogin);
    },
    showMask: function (_25b) {
        if (!$("mask_layer")) {
            $e("body").create("div", {
                "id": "mask_layer",
                "class": "mask_layer"
            });
            if (Live.userAgent.ie == 6) {
                $e("#mask_layer").css("height", document.documentElement.scrollHeight);
            }
        } else {
            $e("#mask_layer").show();
        }
        if (Live.userAgent.ie == 7 || !Live.userAgent.ie) {
            var _25c = !!Live.userAgent.ie ? "body" : document;
            $e(_25c).bind("scroll", function () {
                txv.login.showAtCenter($(_25b));
            });
        } else {
            window.onscroll = function () {
                txv.login.showAtCenter($(_25b));
            };
        }
    },
    hideMask: function () {
        $e("#mask_layer").hide();
        if (Live.userAgent.ie == 7 || !Live.userAgent.ie) {
            var _25d = !!Live.userAgent.ie ? "body" : document;
            $e(_25d).unBind("scroll");
        } else {
            window.onscroll = Live.emptyFn;
        }
    },
    openLogin: function (_25e) {
        txv.login.isOpend = true;
        Live.object.extend(txv.login.config, _25e);
        var _25f = txv.login.config.jumpurl;
        var _260 = txv.login.config.clientjumpurl;
        if (txv.login.config.showMask) {
            txv.login.showMask("login_win");
        }
        if ($("login_win") == null) {
            $e("body").create("div", {
                "id": "login_win",
                "innerHTML": "<iframe name=\"_login_frame_quick_\" id=\"_login_frame_quick_\" frameborder=\"no\" scrolling=\"no\" width=\"100%\" height=\"100%\" src=\"about:blank\"></iframe>"
            });
        }
        var _261 = $("login_win");
        _261.style.display = "none";
        var url = "";
        window.__j_url = _260;
        url = ["http://ui.ptlogin2.qq.com/cgi-bin/login?link_target=blank&target=self&appid=", txv.login.config.appid, "&f_url=loginerroralert&qlogin_auto_login=0", "&s_url=", escape("http://imgcache.qq.com/liveportal_v1/toolpages/redirect.html?clientjumpurl=" + escape(_260 || window.location.href) + "&jumpurl=" + _25f)].join("");
        $("_login_frame_quick_").src = url;
        txv.login.showAtCenter(_261);
    },
    showAtCenter: function (_262, w, h) {
        if (!_262) {
            return;
        }
        var _263 = document.body.scrollTop;
        w = w || 373;
        h = h || 235;
        if (0 == _263) {
            _263 = document.documentElement.scrollTop;
        }
        var _264 = document.documentElement.clientHeight;
        if (0 == _264) {
            _264 = document.body.clientHeight;
        }
        _262.style.top = (_264 / 2 + _263) - h / 2 + "px";
        _262.style.left = (document.body.scrollWidth - w) / 2 + "px";
        _262.style.position = "absolute";
        _262.style.zIndex = "10001";
        _262.style.display = "block";
        _262.style.padding = "0px";
    },
    logout: function () {
        Live.cookie.set("uin", "", ".qq.com", "/", -24);
        Live.cookie.set(txv.login.config.nickCookie, "", location.host, "/", -24);
        Live.cookie.set("skey", "", ".qq.com", "/", -24);
        txv.login.showNotLogin();
        if (typeof txv.login.config.logout == "function") {
            txv.login.config.logout();
        }
    }
};

function ptlogin2_onResize(_265, _266) {
    $("_login_frame_quick_").style.height = _266 + "px";
    $("_login_frame_quick_").style.width = _265 + "px";
    txv.login.showAtCenter($("login_win"), _265, _266);
};

function ptlogin2_onClose(_267) {
    $e("#login_win").remove();
    txv.login.isOpend = false;
    txv.login.hideMask();
    if (_267) {
        ptlogin2_onSuccess();
    } else {
        if (typeof (txv.login.config.rejectLogin) == "function") {
            txv.login.config.rejectLogin();
        }
    }
};

function ptlogin2_onSuccess() {
    txv.login.setStatus(true, true);
};

function __rdt__() {
    if (!!__j_url) {
        while (__j_url.indexOf("%") != -1 && __j_url.indexOf("?") == -1) {
            __j_url = unescape(__j_url);
        }
    } else {
        window.location.reload();
    }
    window.location.href = __j_url;
};
Live.txv = Live.txv || {};
Live.txv.log = function (msg) {
    if (txv.log.isdebug == 1) {
        QZFL.console.print(msg);
        return;
    }
    if (txv.log.isdebug == -1) {
        txv.log.isdebug = (txv.common.getUrlParam("debug") == "true") ? 1 : 0;
    }
    if (txv.log.isdebug == 1) {
        QZFL.console.print(msg);
    }
};
Live.txv.log.isdebug = -1;
Live.txv.common = {
    rootPath: "",
    getUrlParam: function (p, u) {
        var u = u || document.location.toString();
        var pa = p + "=";
        var f = u.indexOf(pa);
        if (f != -1) {
            var f2 = u.indexOf("&", f);
            var f2p = u.indexOf("?", f);
            if (f2p != -1 && (f2 == -1 || f2 > f2p)) {
                f2 = f2p;
            }
            f2p = u.indexOf("#", f);
            if (f2p != -1 && (f2 == -1 || f2 > f2p)) {
                f2 = f2p;
            }
            if (f2 == -1) {
                return u.substring(f + pa.length);
            } else {
                return u.substring(f + pa.length, f2);
            }
        }
        return "";
    },
    initPage: function (_268) {
        txv.log("init page");
        Live.SearchBox.defaultInit(txv.path.search_cgi, txv.path.search_suggest);
        this.bindBtnTj();
        txv.login.init((!!_268 && !!_268.login) ? _268.login : null, true);
        txv.history.init();
        if (txv.common.isWebqq()) {
            $e(".mod_login").hide();
            $e("a").attr("target", "_self");
            var _269 = document.sform;
            if (!!_269) {
                _269.target = "_self";
            }
        }
        Live.lazyLoad.init(["img"]);
        if (!!_268 && _268.watch == true) {
            Live.tj2.watch();
        }
        if (!!_268 && !!_268.tj2 && !!_268.tj2.forbidden) {
            txv.log("not report pv on initpage");
        } else {
            Live.tj2.pv((!!_268 && !!_268.tj2) ? _268.tj2 : null);
        }
        $e(".mod_nav a,.mod_nav_simple a").each(function () {
            var $el = $e(this);
            $el.bind("click", function () {
                var path = $el.attr("href").replace("http://" + window.location.host, "").replace(".html", "").replace("index", "").replace(/\//g, "");
                path = path || "index";
                if (!!path) {
                    Live.tj2.button("nav." + path);
                }
            });
        });
    },
    bindBtnTj: function () {
        $e("._hotkey").bind("click", function () {
            txv.common.btnTj(this.getAttribute("_hot"));
        });
    },
    btnTj: function (key) {
        Live.tj2.button(key);
    },
    isIframe: function () {
        return (window != top);
    },
    isWebqq: function () {
        return (txv.common.isIframe() && !!top.qqweb);
    },
    showDevImg: function () { },
    getDetailUrl: function (_26a, _26b) {
        _26b = _26b || 0;
        var _26c = "";
        if (_26b == 0 || Live.inArray(_26b, [1, 2, 98]) >= 0) {
            _26c = "/detail/";
        } else {
            _26c = "/cover/";
        }
        return [txv.common.rootPath, _26c, _26a.charAt(0), "/", _26a, ".html"].join("");
    },
    getPlayUrl: function (id, _26d) {
        if (!id) {
            return "";
        }
        if (id.length == 15) {
            var str = [txv.common.rootPath, "/cover/", id.charAt(0), "/", id, ".html"].join("");
            if (!!_26d) {
                str += "?vid=" + _26d;
            }
            return str;
        }
        return [txv.common.rootPath, "/video/play.html?vid=", id].join("");
    },
    getVideoPlayUrl: function (vid) {
        return [txv.common.rootPath, "/video/play.html?vid=", vid].join("");
    },
    getVideoSnap: function (_26e, idx) {
        var _26f;
        var uin;
        var _270 = 10000 * 10000;
        var _271 = _26e;
        if (_26e.indexOf("_") > 0) {
            var arr = _26e.split("_");
            _26e = arr[0];
            idx = parseInt(arr[1]);
        }
        var _272 = 4294967295 + 1;
        var _270 = 10000 * 10000;
        var tot = 0;
        for (var inx = 0; inx < _26e.length; inx++) {
            var _273 = _26e.charCodeAt(inx);
            tot = (tot * 32) + tot + _273;
            if (tot >= _272) {
                tot = tot % _272;
            }
        }
        uin = tot % _270;
        if (idx == undefined) {
            idx = 0;
        }
        if (idx == 0) {
            _26f = ["http://vpic.video.qq.com/", uin, "/", _26e, "_160_90_3.jpg"].join("");
        } else {
            _26f = ["http://vpic.video.qq.com/", uin, "/", _26e, "_", "160_90_", idx, "_1.jpg"].join("");
        }
        return _26f;
    },
    getFullUrlPath: function (path) {
        var h = window.location.host;
        if (h == "sns.video.qq.com") {
            h = "v.qq.com";
        }
        return [window.location.protocol, "//", h, txv.common.rootPath, path].join("");
    },
    formatVideoTitle: function (tt) {
        tt = tt.replace(/^(\d{2})(\d{2})(\d{2})([^_]+)(_?\d*)$/ig, "$4 20$1-$2-$3");
        return tt;
    },
    useHtml5: function () {
        return Live.userAgent.isiPad || Live.userAgent.isiPhone || (/\(ipod;/i.test(navigator.userAgent));
    }
};
QZFL.object.extend(QZFL.string, {
    filterAngleBrk: function (str) {
        return str.replace(/</g, "&lt;").replace(/>/g, "&gt;");
    },
    filterQuote: function (str) {
        return str.replace(/\x27/g, "&acute;").replace(/\x22/g, "&quot;");
    },
    filterAngAndQt: function (str) {
        str = QZFL.string.filterAngleBrk(str);
        str = QZFL.string.filterQuote(str);
        return str;
    }
});
Live.txv.tips = function (_274, _275, _276) {
    this.divName = "ipop";
    this.title = _274;
    this.showTitle = _275;
    this.showContent = _276;
    this.linkText = "";
    this.linkHref = "";
    this.btnShowText = "";
    this.btnCloseText = "";
    this.iconClass = "";
    this.tipsType = txv.tips.ConstTipsType.Message;
    this.needRemind = 0;
    this.width = 0;
    this.height = 0;
    this.top = 0;
    this.left = 0;
    this.display = "block";
    this.padding = "0px";
    this.InitPosition();
    this.t_Header = ["<div id=\"tips_pop\" class=\"pop\" style=\"", "width:", this.width, "px;height:", this.height, "px;top:", this.top, "px;left:", this.left, "px;\">"].join("");
    this.t_Closer = "<div class=\"bt_close\"><a href=\"txv.tips.onClose()\"></a></div>";
    this._Icon = "<div class=\"mod_icon " + this.iconClass + "\"></div>";
    this._TitleShow = "<h5>" + this.showTitle + "</h5>";
    this._Link = (this.linkText != "") ? ("<a href=\"" + this.linkHref + "\" class=\"c_txt2 unline\">" + this.linkText + "</a>") : "";
    this._t_ContentShow = "<p>" + this.showContent + this._Link + "</p>";
    this._t_TextShow = "<div class=\"mod_txt\">" + this._TitleShow + this._t_ContentShow + "</div>";
    this._t_MessageBody = "<div class=\"mod_message\">" + this._Icon + this._t_TextShow + "</div>";
    this._BtnShow = (this.btnShowText != "") ? ("<a class=\"_btnshow\" href=\"##\"><span>" + this.btnShowText + "</span></a>") : "";
    this._BtnClose = "<a class=\"_btnclose\" href=\"##\"><span>" + this.btnCloseText + "</span></a>";
    this._t_BtnText = "<div class=\"mod_bt\">" + this._BtnShow + this._BtnClose + "</div>";
    this._t_Remind = "";
    this.t_Content = "<div class=\"mod_cont\">" + this._t_MessageBody + this._t_BtnText + this._t_Remind + "</div>";
    this.t_End = "<div class=\"mod_shadow\"></div></div>";
    this.tipsHTML = this.t_Header + this.t_Closer + this.t_Content + this.t_End;
};
Live.txv.tips.ConstTipsType = {
    Warning: 1,
    Message: 2,
    Float: 3
};
Live.txv.tips.prototype.InitPosition = function () {
    var _277 = document.body.scrollTop;
    var wid = 373;
    var hei = 235;
    if (0 == _277) {
        _277 = document.documentElement.scrollTop;
    }
    var _278 = document.documentElement.clientHeight;
    if (0 == _278) {
        _278 = document.body.clientHeight;
    }
    this.width = wid;
    this.height = hei;
    this.top = (_278 / 2 + _277) - this.height / 2;
    this.left = (document.body.scrollWidth - this.width) / 2;
    this.position = "absolute";
    this.display = "block";
    this.padding = 0;
};
Live.txv.tips.prototype.onBtnOk = function () { };
Live.txv.tips.prototype.onBtnClose = function () { };
Live.txv.tips.prototype.SetType = function (type) {
    this.tipsType = type;
    switch (type) {
        case Live.txv.tips.ConstTipsType.Warning:
            this.iconClass = " warning";
            break;
        case Live.txv.tips.ConstTipsType.Message:
        case Live.txv.tips.ConstTipsType.Message:
        default:
            this.iconClass = "";
            break;
    }
    this._init();
};
Live.txv.tips.prototype.SetBtn = function (_279, _27a) {
    this.btnShowText = _279;
    if (_27a != "") {
        this.btnCloseText = _27a;
    }
    this._init();
};
Live.txv.tips.prototype.SetLink = function (txt, href) {
    this.linkText = txt;
    this.linkHref = href;
    this._init();
};
Live.txv.tips.prototype.SetPostion = function (x, y) {
    this.top = y;
    this.left = x;
    this._init();
};
Live.txv.tips.prototype.AddRemind = function () {
    this.needRemind = 1;
    this._init();
};
Live.txv.tips.prototype.SetHide = function () {
    $e("#" + this.divName).hide();
    txv.login.hideMask();
};
Live.txv.tips.prototype._init = function () {
    if (this.tipsType == txv.tips.ConstTipsType.Float) {
        this.left += 110;
        this.top += 100;
        this.t_Header = "<div id=\"tips_pop\" class=\"pop pop_simple\" style=\"display:;top:" + this.top + "px;left:" + this.left + "px;\">";
    } else {
        this.t_Header = "<div id=\"tips_pop\" class=\"pop\" style=\"display:;top:" + this.top + "px;left:" + this.left + "px;\">";
    }
    this.t_Closer = "<div class=\"bt_close\"><a href=\"txv.tips.onClose()\"></a></div>";
    this._Icon = "<div class=\"mod_icon " + this.iconClass + "\"></div>";
    this._TitleShow = "<h5>" + this.showTitle + "</h5>";
    this._Link = (this.linkText != "") ? ("<a href=\"" + this.linkHref + "\" class=\"c_txt2 unline\">" + this.linkText + "</a>") : "";
    this._t_ContentShow = "<p>" + this.showContent + this._Link + "</p>";
    if (this.tipsType == txv.tips.ConstTipsType.Float) {
        this._t_TextShow = "<div class=\"mod_txt\">" + this._t_ContentShow + "</div>";
    } else {
        this._t_TextShow = "<div class=\"mod_txt\">" + this._TitleShow + this._t_ContentShow + "</div>";
    }
    this._t_MessageBody = "<div class=\"mod_message\">" + this._Icon + this._t_TextShow + "</div>";
    this._BtnShow = (this.btnShowText != "") ? ("<a class=\"_btnshow\" href=\"##\"><span>" + this.btnShowText + "</span></a>") : "";
    this._BtnClose = "<a class=\"_btnclose\" href=\"##\"><span>" + this.btnCloseText + "</span></a>";
    this._t_BtnText = "<div class=\"mod_bt\">" + this._BtnShow + this._BtnClose + "</div>";
    if (this.needRemind) {
        this._t_Remind = "<p class=\"mod_remind\"><input id=\"input_remind\" type=\"checkbox\" value=\"\" /><label for=\"input_remind\"></label></p>";
    } else {
        this._t_Remind = "";
    }
    if (this.tipsType == txv.tips.ConstTipsType.Float) {
        this.t_Content = "<div class=\"mod_cont\">" + this._t_MessageBody + "</div>";
    } else {
        this.t_Content = "<div class=\"mod_cont\">" + this._t_MessageBody + this._t_BtnText + this._t_Remind + "</div>";
    }
    if (this.tipsType == txv.tips.ConstTipsType.Float) {
        this.tipsHTML = this.t_Header + this.t_Content + this.t_End;
    } else {
        this.tipsHTML = this.t_Header + this.t_Closer + this.t_Content + this.t_End;
    }
};
Live.txv.tips.prototype.FillPage = function () {
    if (!$(this.divName)) {
        $e("body").create("div", {
            "id": this.divName,
            "class": ""
        });
    }
    var _27b = $e("#" + this.divName);
    _27b.setHtml(this.tipsHTML);
    _27b.show();
    txv.login.showMask("tips_pop");
    var _27c = document.body.scrollHeight;
    if (0 == _27c) {
        _27c = document.documentElement.scrollHeight;
    }
    var _27d = document.documentElement.clientHeight;
    if (0 == _27d) {
        _27d = document.body.clientHeight;
    }
    $e(".bt_close").bind("click", function () {
        _27b.hide();
        txv.login.hideMask();
        try {
            if ($e("#input_remind").elements[0].checked) {
                QZFL.cookie.set("ql_alert", 1, "v.qq.com", "/", 24 * 365 * 2);
            }
        } catch (e) { }
    });
    if (this.btnShowText != "") {
        $e("._btnshow").bind("click", this.onBtnOk);
    }
    $e("._btnclose").bind("click", function () {
        _27b.hide();
        txv.login.hideMask();
    });
    if (this.tipsType == txv.tips.ConstTipsType.Float) {
        setTimeout(function () {
            _27b.hide();
            txv.login.hideMask();
        }, 1000);
    }
};
Live.txv.tips.ShowTips = function (_27e, _27f, msg1, msg2, btn1, btn2, type, _280) {
    _27e = _27e || "";
    _27f = _27f || "";
    msg1 = msg1 || "";
    msg2 = msg2 || "";
    btn1 = btn1 || "";
    btn2 = btn2 || "";
    type = type || "";
    if (_27e == "") {
        return;
    }
    if (msg1 == "") {
        return;
    }
    if (type == "") {
        type = txv.tips.ConstTipsType.Warning;
    }
    var tip = new txv.tips(_27f, msg1, msg2);
    tip.SetBtn(btn1, btn2);
    tip.SetType(type);
    tip.onBtnOk = function () {
        tip.SetHide();
        if (typeof (_280) == "function") {
            _280();
        }
    };
    tip.FillPage(_27e);
};
Live.txv.book = {
    constvar: {
        tipstitle: {
            book: "",
            cancel: "",
            error: "",
            login: "",
            bookerror: "",
            cancelerror: ""
        },
        tipscontent: {
            book: "5QQ",
            cancel: "",
            error: ""
        },
        bookbtntext: {
            alt: "QQ",
            book: "",
            cancel: ""
        }
    },
    config: {
        cgi: "http://sns.video.qq.com/fcgi-bin/liveportal/nbook?otype=json&f=1&",
        id: "",
        tid: "",
        type: 0,
        op: 2,
        bookbtn: null,
        keyprefix: "",
        logincallback: null
    },
    ids: null,
    items: null,
    TipBoxShow: function (_281, msg, _282) {
        var tips = new txv.tips("Message", _281, msg);
        if (_282 == 1) {
            tips.SetType(txv.tips.ConstTipsType.Message);
        } else {
            tips.SetType(txv.tips.ConstTipsType.Warning);
        }
        tips.FillPage();
    },
    TipBoxShowTiny: function (msg) {
        var _283 = new txv.tips("", "", msg);
        _283.SetType(txv.tips.ConstTipsType.Float);
        _283.FillPage();
    },
    TipBoxShowConfirm: function (idx) {
        var self = this;
        var _284 = "";
        var msg = "";
        var _285 = null;
        _285 = new txv.tips("Message", _284, msg);
        _285.SetType(txv.tips.ConstTipsType.Warning);
        _285.SetBtn("", "");
        _285.onBtnOk = function () {
            self._cancel(idx);
        };
        _285.FillPage();
    },
    init: function (_286) {
        var self = this;
        self.items = [];
        self.ids = {};
        Live.object.extend(self.config, _286);
        txv.login.config.success = function () {
            self.isBooked();
            if (typeof self.config.logincallback == "function") {
                self.config.logincallback();
            }
        };
        if (!self.config.bookbtn) {
            return;
        }
        for (var i = 0; i < self.config.bookbtn.size(); ++i) {
            var $btn = self.config.bookbtn.get(i);
            var _287 = $btn.getAttr("bookid") || self.config.id;
            var _288 = $btn.getAttr("tid") || self.config.tid;
            self.ids[_287] = i;
            self.items.push({
                "stat": 2,
                "id": _287,
                "tid": _288,
                "btn": $btn
            });
        }
        self.isBooked();
        self.config.bookbtn.each(function (el, i) {
            var $el = $e(el);
            $el.bind("click", function () {
                switch (self.items[i].stat) {
                    case 2:
                        self.book(i);
                        break;
                    case 3:
                        self.cancel(i);
                        break;
                }
            });
        });
    },
    book: function (idx) {
        var self = this;
        var uin = txv.login.getUin();
        if (uin <= 10000) {
            txv.login.openLogin();
            return false;
        }
        var url = self.config.cgi + "uin=" + uin + "&op=2&id=" + self.items[idx].id + "&t=" + self.config.type;
        if (self.config.type == 2) {
            url += "&tid=" + self.items[idx].tid;
        }
        $j.getJsonp(url, function (json) {
            if (!json) {
                return;
            }
            self.onBook(json, idx);
        });
    },
    onBook: function (json, idx) {
        var self = this;
        if (json.suc == -1) {
            this.TipBoxShow(self.constvar.tipstitle.login, "", 0);
            txv.login.logout();
            return;
        }
        if (json.suc != 0) {
            this.TipBoxShow(self.constvar.tipstitle.error, self.constvar.tipscontent.error, 0);
            return;
        }
        self.items[idx].stat = 3;
        self.items[idx].btn.text(self.constvar.bookbtntext.cancel);
        if (!!$e("#zt_nbook")) {
            $e("#zt_nbook").removeClass("show_btn_2");
            $e("#zt_nbook").addClass("show_btn_1");
            $e("._book").removeClass("btn_2");
            $e("._book").addClass("btn_1");
        }
        self.items[idx].btn.setAttr("title", "");
        this.TipBoxShow(self.constvar.tipstitle.book, self.constvar.tipscontent.book, 1);
    },
    cancel: function (idx) {
        var uin = txv.login.getUin();
        if (uin <= 10000) {
            txv.login.openLogin();
            return false;
        }
        this.TipBoxShowConfirm(idx);
        return;
    },
    _cancel: function (idx) {
        var self = this;
        var url = self.config.cgi + "uin=" + txv.login.getUin() + "&op=3&id=" + self.items[idx].id + "&t=" + self.config.type;
        if (self.config.type == 2) {
            url += "&tid=" + self.items[idx].tid;
        }
        $j.getJsonp(url, function (json) {
            if (!json) {
                return;
            }
            self.onCancel(json, idx);
        });
    },
    onCancel: function (json, idx) {
        var self = this;
        if (json.suc == -1) {
            this.TipBoxShow(self.constvar.tipstitle.login, "", 0);
            txv.login.logout();
            return;
        }
        if (json.suc != 0) {
            this.TipBoxShow(self.constvar.tipstitle.error, self.constvar.tipscontent.error, 0);
            return;
        }
        self.items[idx].stat = 2;
        self.items[idx].btn.text(self.constvar.bookbtntext.book);
        if (!!$e("#zt_nbook")) {
            $e("#zt_nbook").removeClass("show_btn_1");
            $e("#zt_nbook").addClass("show_btn_2");
            $e("._book").removeClass("btn_1");
            $e("._book").addClass("btn_2");
        }
        self.items[idx].btn.setAttr("title", self.constvar.bookbtntext.alt);
        self.TipBoxShowTiny("");
    },
    isBooked: function () {
        var self = this;
        var uin = txv.login.getUin();
        if (uin <= 10000) {
            return false;
        }
        var url = self.config.cgi + "uin=" + uin + "&op=0&t=" + self.config.type;
        $j.getJsonp(url, function (json) {
            if (!json) {
                return;
            }
            self.onIsBooked(json);
        });
    },
    onIsBooked: function (json) {
        var self = this;
        if (json.suc == -1) {
            txv.login.logout();
            return;
        }
        if (json.suc != 0 || !isArray(json.pros)) {
            return;
        }
        for (var i = 0; i < self.items.length; ++i) {
            self.items[i].stat = 2;
            self.items[i].btn.text(self.constvar.bookbtntext.book);
            if (!!$e("#zt_nbook")) {
                $e("#zt_nbook").removeClass("show_btn_1");
                $e("#zt_nbook").addClass("show_btn_2");
                $e("._book").removeClass("btn_1");
                $e("._book").addClass("btn_2");
            }
            self.items[i].btn.setAttr("title", self.constvar.bookbtntext.alt);
        }
        for (var i = 0; i < json.pros.length; ++i) {
            if (typeof self.ids[json.pros[i].id] == "number") {
                var _289 = self.ids[json.pros[i].id];
                self.items[_289].stat = 3;
                self.items[_289].btn.text(self.constvar.bookbtntext.cancel);
                if (!!$e("#zt_nbook")) {
                    $e("#zt_nbook").removeClass("show_btn_2");
                    $e("#zt_nbook").addClass("show_btn_1");
                    $e("._book").removeClass("btn_2");
                    $e("._book").addClass("btn_1");
                }
                self.items[_289].btn.setAttr("title", "");
            }
        }
    }
};
Live.txv.history = {
    option: {
        key: null,
        tit: null,
        lnk: null
    },
    hisList: null,
    key: "ten_video_history",
    template: "<li><span class='mod_video_name'><a href='{lnk}' title='{tit}'>{tit}</a></span><span class='mod_video_time'>{time}</span><a href='{lnk}'>{ltxt}</a><button type='button' onclick='txv.history.rm(\"{key}\");' title=''>X</button></li>",
    setCurVideo: function (opt) {
        for (var k in opt) {
            txv.history.option[k] = opt[k];
        }
    },
    init: function () {
        var area = $e("#history");
        var pop = $e("#history_pop");
        var _28a = $e("#history_list").elements.length ? $e("#history_list") : pop;
        var menu = new Live.FloatMenu({
            menu: pop,
            area: area.find("h6 a"),
            areaOutdelay: 100,
            onShow: function (obj) {
                area.addClass("open");
                if (_28a.html().length == 0) {
                    _28a.html(" ..");
                    txv.history.showHistory();
                    txv.common.btnTj("history");
                }
            },
            onHide: function (obj) {
                area.removeClass("open");
            }
        });
    },
    getHistory: function (cb) {
        QZFL.Storage.get(txv.history.key, function (val) {
            if (val) {
                txv.log("got history data:" + val);
                if (typeof (val) != "string" && typeof (val.value) == "string") {
                    val = val.value;
                }
                if (val) {
                    txv.history.hisList = val.split("|");
                } else {
                    txv.history.hisList = [];
                }
            } else {
                txv.log("no history data");
                txv.history.hisList = [];
            }
            if (cb) {
                cb();
            }
        });
    },
    showHistory: function (_28b) {
        _28b = _28b || 5;
        if (txv.history.hisList == null) {
            txv.history.getHistory(function () {
                txv.history.showHistory(_28b);
            });
            return;
        }
        txv.log("on showHistory");
        var his = txv.history.hisList;
        var sb = [];
        var len = his.length < _28b ? his.length : _28b;
        if (len == 0) {
            $e("#history_pop").html(" ");
            return;
        }
        for (var i = 0; i < len; i++) {
            var opt = his[i].split(",");
            var time = opt[3] * 1;
            var ltxt = "";
            if (time == 0 || time == -1) {
                time = "";
                ltxt = "";
            } else {
                if (time == -2) {
                    time = "1";
                } else {
                    if (time < 60) {
                        time = "1";
                    } else {
                        var buf = [""];
                        if (time > 3600) {
                            buf.push(Math.floor(time / 3600), "");
                            time = time % 3600;
                        }
                        if (time > 60) {
                            buf.push(Math.floor(time / 60), "");
                        } else {
                            buf = ["1*"];
                        }
                        time = buf.join("");
                    }
                }
            }
            sb.push(txv.history.template.replace(/{key}/g, opt[0]).replace(/{tit}/g, opt[1]).replace(/{lnk}/g, opt[2]).replace(/{ltxt}/g, ltxt).replace(/{time}/g, time));
        }
        if ($e("#history_list").elements.length) {
            $e("#history_list").html(sb.join(""));
        } else {
            $e("#history_pop").html("<ul>" + sb.join("") + "</ul>");
        }
    },
    toString: function (key, _28c, link, time, _28d) {
        if (time > 0) {
            if (link.indexOf("?") > 0) {
                link += "&";
            } else {
                link += "?";
            }
            link += "start=" + time;
        }
        if (_28d - time > 0 && _28d - time < 60) {
            time = -2;
        }
        return [key, ",", _28c, ",", link, ",", time].join("");
    },
    add: function (key, _28e, link, time, _28f) {
        txv.log(["add history:", key, _28e, link, time, _28f].join(","));
        if (txv.history.hisList == null) {
            txv.history.getHistory(function () {
                txv.history.add(key, _28e, link, time, _28f);
            });
            return;
        }
        var his = txv.history.hisList;
        var len = his.length;
        if (len >= 20) {
            his.pop();
        }
        var str = txv.history.toString(key, _28e, link, time, _28f);
        if (len == 0) {
            his.unshift(str);
        } else {
            if (his[0].indexOf(key) == 0) {
                his[0] = str;
            } else {
                txv.history.onRemove(key);
                his.unshift(str);
            }
        }
        QZFL.Storage.set(txv.history.key, his.join("|"));
    },
    onRemove: function (key) {
        var his = txv.history.hisList;
        for (var i = 0, len = his.length; i < len; i++) {
            if (his[i].indexOf(key) == 0) {
                his.splice(i, 1);
                break;
            }
        }
    },
    rm: function (key) {
        if (txv.history.hisList == null) {
            txv.history.getHistory(function () {
                txv.history.rm(key);
            });
            return;
        }
        txv.history.onRemove(key);
        QZFL.Storage.set(txv.history.key, txv.history.hisList.join("|"));
        txv.history.showHistory();
    }
};

function _flash_view_history(time, _290) {
    if (!txv.history.option.key || !txv.history.option.tit || !txv.history.option.lnk) {
        txv.log("add history error: not enough options!");
        return;
    }
    txv.history.add(txv.history.option.key, txv.history.option.tit, txv.history.option.lnk, time, _290);
};
Live.txv.template = {
    _isLoadingJS: false,
    timer: {
        waitJS: 0
    },
    FILL_TYPE: {
        TPL_ID: 1,
        TPL_STR: 2
    },
    convertTime: function (d) {
        var _291 = d.getMonth() + 1;
        var day = d.getDate();
        var hour = d.getHours();
        var min = d.getMinutes();
        var sec = d.getSeconds();

        function _292(str) {
            return str < 10 ? "0" + str : str;
        };
        return {
            "year": d.getFullYear(),
            "month": _291,
            "day": day,
            "hour": _292(hour),
            "min": _292(min),
            "sec": _292(sec)
        };
    },
    MODIFIERS: {
        formatTime: function (str) {
            if (!/\d+/.test(str)) {
                return str;
            }
            var v = parseInt(str) * 1000;
            var d = new Date(v);
            var dd = Live.txv.template.convertTime(d);
            return [[dd.year, dd.month, dd.day].join("-"), [dd.hour, dd.min, dd.sec].join(":")].join(" ");
        },
        getTimeLong: function (time) {
            var m = parseInt(time / 60);
            var s = time % 60;
            return "" + m + "" + s + "";
        },
        getTimeLong2: function (time) {
            var m = parseInt(time / 60);
            var s = time % 60;
            return "" + m + "&#039;" + s + "&#034;";
        },
        filterComment: function (str) {
            return str.replace(/\\r\\n/ig, "<br/>");
        },
        getPlayUrl: function (cid) {
            return txv.common.getPlayUrl(cid);
        },
        getDetailUrl: function (cid, _293) {
            return txv.common.getDetailUrl(cid, _293 || 0);
        },
        getVideoPlayUrl: function (vid) {
            return txv.common.getVideoPlayUrl(vid);
        },
        encode: function (str) {
            return encodeURIComponent(str);
        },
        searchurl: function (tag) {
            return txv.path.search_cgi + "&ms_key=" + encodeURIComponent(tag);
        },
        getVideoSnap: function (vid) {
            return txv.common.getVideoSnap(vid, 0);
        },
        filterStr: function (str) {
            return QZFL.string.filterAngAndQt(str);
        },
        getTimeDiff: function (time) {
            if (isNaN(time)) {
                return time;
            }
            if (/^\d{10}$/.test(time)) {
                time = time * 1000;
            }
            var dd = new Date(time);
            var now = new Date();
            var _294 = now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds();
            var t0 = new Date().valueOf();
            var sec = parseInt((t0 - time) / 1000);
            var _295 = "";
            if (sec < 60) {
                _295 = "";
            } else {
                if (sec > 60 && sec < 3600) {
                    _295 = Math.ceil(sec / 60) + "";
                } else {
                    var _296 = Live.txv.template.convertTime(dd);
                    if (sec >= 3600 && sec < _294) {
                        _295 = " " + _296.hour + ":" + _296.min;
                    } else {
                        if (sec > _294 && sec < _294 + 86400) {
                            _295 = " " + _296.hour + ":" + _296.min;
                        } else {
                            _295 = _296.month + "" + _296.day + " " + _296.hour + ":" + _296.min;
                        }
                    }
                }
            }
            return _295;
        }
    },
    fillHtml: function (json, _297, _298, _299, _29a, _29b, _29c, _29d) {
        function fill(_29e, _29f, _2a0, _2a1, _2a2, _2a3, _2a4, _2a5) {
            txv.template._isLoadingJS = false;
            var _2a6 = $(_2a0);
            if (!_2a6) {
                return;
            }
            if (typeof _29b == "undefined") {
                _29b = Live.txv.template.FILL_TYPE.TPL_ID;
            }
            if ((_29b == Live.txv.template.FILL_TYPE.TPL_ID && !$(_29f)) || (_29b == Live.txv.template.FILL_TYPE.TPL_STR && !_29f)) {
                return;
            }
            if (typeof _2a1 == "undefined") {
                _2a1 = true;
            }
            if (typeof _29b == "undefined") {
                _29b = Live.txv.template.FILL_TYPE.TPL_ID;
            }
            _29e._MODIFIERS = _2a2 || Live.txv.template.MODIFIERS;
            var _2a7 = _29b == Live.txv.template.FILL_TYPE.TPL_ID ? TrimPath.parseDOMTemplate(_29f) : TrimPath.parseTemplate(_29f);
            var _2a8 = _2a7.process(_29e);
            if (!!_2a1) {
                _2a6.innerHTML = _2a8;
            } else {
                _2a6.innerHTML += _2a8;
            }
            if (typeof _2a5 == "undefined") {
                _2a5 = true;
            }
            if (!!_2a5 && txv.common.isWebqq()) {
                $e("#" + _2a0 + " a").attr("target", "_self");
            }
            if (typeof _2a4 == "function") {
                _2a4();
            }
        };
        if (typeof TrimPath == "undefined") {
            if (txv.template._isLoadingJS == false) {
                txv.log("template is not load js");
                txv.template._isLoadingJS = true;
                $j.getScript(Live.txv.path.trimpath, function () {
                    fill(json, _297, _298, _299, _29a, _29b, _29c, _29d);
                });
            } else {
                txv.log("template is loading js,wait...");
                setTimeout(function () {
                    txv.template.fillHtml(json, _297, _298, _299, _29a, _29b, _29c, _29d);
                }, 100);
            }
        } else {
            fill(json, _297, _298, _299, _29a, _29b, _29c, _29d);
        }
    }
};
var _irt = {
    version: "0.0.6",
    dataHandler: "http://tj.video.qq.com/fcgi-bin/report",
    sessionDomain: "qq.com",
    _account: "",
    _debug: false,
    _isReport: false,
    init: function (_2a9) {
        if (!_irt._isReport || typeof (txv) != "undefined") {
            _irt._isReport = true;
            var irt = this;
            this._account = _2a9;
            this._track();
        }
    },
    _getSessionId: function () {
        var _2aa = location.href,
            _2ab = (this.sessionDomain != null) ? this.sessionDomain : location.host,
            _2ac = (new Date()).valueOf(),
            _2ad = navigator.userAgent,
            _2ae = "";
        _2ae = this._md5([_2ab, _2aa, _2ad, _2ac].join(""));
        return _2ae;
    },
    _trackStart: function (_2af) {
        if (_2af.indexOf("-") < 0) {
            return "invalid user identify.";
        }
        this.init(_2af);
        return this;
    },
    _track: function () {
        var _2b0 = this._getCookie("lv_irt_id");
        if (_2b0 != "" && _2b0 != "undefined" && _2b0 != null) {
            this._setCookie("lv_irt_id", _2b0, 120);
            this._feedBack();
        } else {
            var _2b0 = this._getSessionId();
            this._setCookie("lv_irt_id", _2b0, 120);
            this._feedBack();
        }
    },
    _feedBack: function () {
        var _2b1 = Array("id=" + this._account, "sc=" + encodeURIComponent(this._getCookie("lv_irt_id")), "pt=" + encodeURIComponent(document.title), "dm=" + window.location.host, "pa=" + encodeURIComponent(window.location.pathname), "sr=" + document.body.clientWidth + "x" + document.body.clientHeight, "ul=" + navigator.language, "tv=" + this.version, "r=" + new Date().getTime()).join("&");
        var _2b2 = this.dataHandler + "?" + _2b1;
        this._img = new Image();
        this._img.src = _2b2;
    },
    _getCookie: function (_2b3) {
        var i, x, y, _2b4 = document.cookie.split(";");
        for (i = 0; i < _2b4.length; i++) {
            x = _2b4[i].substr(0, _2b4[i].indexOf("="));
            y = _2b4[i].substr(_2b4[i].indexOf("=") + 1);
            x = x.replace(/^\s+|\s+$/g, "");
            if (x == _2b3) {
                return unescape(y);
            }
        }
    },
    _setCookie: function (_2b5, _2b6, _2b7) {
        var _2b8 = new Date();
        _2b8.setDate(_2b8.getDate() + _2b7);
        var _2b9 = escape(_2b6) + ((_2b7 == null) ? "" : "; expires=" + _2b8.toUTCString());
        var _2ba = (this.sessionDomain == null) ? "" : "; domain=" + this.sessionDomain;
        var _2bb = "; path=/";
        document.cookie = _2b5 + "=" + _2b9 + _2ba + _2bb;
        return true;
    },
    _debugMode: function () {
        if (!this._debug) {
            this._debug = true;
        }
    },
    _md5: function (_2bc) {
        function _2bd(_2be, _2bf) {
            return (_2be << _2bf) | (_2be >>> (32 - _2bf));
        };

        function _2c0(lX, lY) {
            var lX4, lY4, lX8, lY8, _2c1;
            lX8 = (lX & 2147483648);
            lY8 = (lY & 2147483648);
            lX4 = (lX & 1073741824);
            lY4 = (lY & 1073741824);
            _2c1 = (lX & 1073741823) + (lY & 1073741823);
            if (lX4 & lY4) {
                return (_2c1 ^ 2147483648 ^ lX8 ^ lY8);
            }
            if (lX4 | lY4) {
                if (_2c1 & 1073741824) {
                    return (_2c1 ^ 3221225472 ^ lX8 ^ lY8);
                } else {
                    return (_2c1 ^ 1073741824 ^ lX8 ^ lY8);
                }
            } else {
                return (_2c1 ^ lX8 ^ lY8);
            }
        };

        function F(x, y, z) {
            return (x & y) | ((~x) & z);
        };

        function G(x, y, z) {
            return (x & z) | (y & (~z));
        };

        function H(x, y, z) {
            return (x ^ y ^ z);
        };

        function I(x, y, z) {
            return (y ^ (x | (~z)));
        };

        function FF(a, b, c, d, x, s, ac) {
            a = _2c0(a, _2c0(_2c0(F(b, c, d), x), ac));
            return _2c0(_2bd(a, s), b);
        };

        function GG(a, b, c, d, x, s, ac) {
            a = _2c0(a, _2c0(_2c0(G(b, c, d), x), ac));
            return _2c0(_2bd(a, s), b);
        };

        function HH(a, b, c, d, x, s, ac) {
            a = _2c0(a, _2c0(_2c0(H(b, c, d), x), ac));
            return _2c0(_2bd(a, s), b);
        };

        function II(a, b, c, d, x, s, ac) {
            a = _2c0(a, _2c0(_2c0(I(b, c, d), x), ac));
            return _2c0(_2bd(a, s), b);
        };

        function _2c2(_2c3) {
            var _2c4;
            var _2c5 = _2c3.length;
            var _2c6 = _2c5 + 8;
            var _2c7 = (_2c6 - (_2c6 % 64)) / 64;
            var _2c8 = (_2c7 + 1) * 16;
            var _2c9 = Array(_2c8 - 1);
            var _2ca = 0;
            var _2cb = 0;
            while (_2cb < _2c5) {
                _2c4 = (_2cb - (_2cb % 4)) / 4;
                _2ca = (_2cb % 4) * 8;
                _2c9[_2c4] = (_2c9[_2c4] | (_2c3.charCodeAt(_2cb) << _2ca));
                _2cb++;
            }
            _2c4 = (_2cb - (_2cb % 4)) / 4;
            _2ca = (_2cb % 4) * 8;
            _2c9[_2c4] = _2c9[_2c4] | (128 << _2ca);
            _2c9[_2c8 - 2] = _2c5 << 3;
            _2c9[_2c8 - 1] = _2c5 >>> 29;
            return _2c9;
        };

        function _2cc(_2cd) {
            var _2ce = "",
                _2cf = "",
                _2d0, _2d1;
            for (_2d1 = 0; _2d1 <= 3; _2d1++) {
                _2d0 = (_2cd >>> (_2d1 * 8)) & 255;
                _2cf = "0" + _2d0.toString(16);
                _2ce = _2ce + _2cf.substr(_2cf.length - 2, 2);
            }
            return _2ce;
        };

        function _2d2(_2d3) {
            _2d3 = _2d3.replace(/\r\n/g, "\n");
            var _2d4 = "";
            for (var n = 0; n < _2d3.length; n++) {
                var c = _2d3.charCodeAt(n);
                if (c < 128) {
                    _2d4 += String.fromCharCode(c);
                } else {
                    if ((c > 127) && (c < 2048)) {
                        _2d4 += String.fromCharCode((c >> 6) | 192);
                        _2d4 += String.fromCharCode((c & 63) | 128);
                    } else {
                        _2d4 += String.fromCharCode((c >> 12) | 224);
                        _2d4 += String.fromCharCode(((c >> 6) & 63) | 128);
                        _2d4 += String.fromCharCode((c & 63) | 128);
                    }
                }
            }
            return _2d4;
        };
        var x = Array();
        var k, AA, BB, CC, DD, a, b, c, d;
        var S11 = 7,
            S12 = 12,
            S13 = 17,
            S14 = 22;
        var S21 = 5,
            S22 = 9,
            S23 = 14,
            S24 = 20;
        var S31 = 4,
            S32 = 11,
            S33 = 16,
            S34 = 23;
        var S41 = 6,
            S42 = 10,
            S43 = 15,
            S44 = 21;
        _2bc = _2d2(_2bc);
        x = _2c2(_2bc);
        a = 1732584193;
        b = 4023233417;
        c = 2562383102;
        d = 271733878;
        for (k = 0; k < x.length; k += 16) {
            AA = a;
            BB = b;
            CC = c;
            DD = d;
            a = FF(a, b, c, d, x[k + 0], S11, 3614090360);
            d = FF(d, a, b, c, x[k + 1], S12, 3905402710);
            c = FF(c, d, a, b, x[k + 2], S13, 606105819);
            b = FF(b, c, d, a, x[k + 3], S14, 3250441966);
            a = FF(a, b, c, d, x[k + 4], S11, 4118548399);
            d = FF(d, a, b, c, x[k + 5], S12, 1200080426);
            c = FF(c, d, a, b, x[k + 6], S13, 2821735955);
            b = FF(b, c, d, a, x[k + 7], S14, 4249261313);
            a = FF(a, b, c, d, x[k + 8], S11, 1770035416);
            d = FF(d, a, b, c, x[k + 9], S12, 2336552879);
            c = FF(c, d, a, b, x[k + 10], S13, 4294925233);
            b = FF(b, c, d, a, x[k + 11], S14, 2304563134);
            a = FF(a, b, c, d, x[k + 12], S11, 1804603682);
            d = FF(d, a, b, c, x[k + 13], S12, 4254626195);
            c = FF(c, d, a, b, x[k + 14], S13, 2792965006);
            b = FF(b, c, d, a, x[k + 15], S14, 1236535329);
            a = GG(a, b, c, d, x[k + 1], S21, 4129170786);
            d = GG(d, a, b, c, x[k + 6], S22, 3225465664);
            c = GG(c, d, a, b, x[k + 11], S23, 643717713);
            b = GG(b, c, d, a, x[k + 0], S24, 3921069994);
            a = GG(a, b, c, d, x[k + 5], S21, 3593408605);
            d = GG(d, a, b, c, x[k + 10], S22, 38016083);
            c = GG(c, d, a, b, x[k + 15], S23, 3634488961);
            b = GG(b, c, d, a, x[k + 4], S24, 3889429448);
            a = GG(a, b, c, d, x[k + 9], S21, 568446438);
            d = GG(d, a, b, c, x[k + 14], S22, 3275163606);
            c = GG(c, d, a, b, x[k + 3], S23, 4107603335);
            b = GG(b, c, d, a, x[k + 8], S24, 1163531501);
            a = GG(a, b, c, d, x[k + 13], S21, 2850285829);
            d = GG(d, a, b, c, x[k + 2], S22, 4243563512);
            c = GG(c, d, a, b, x[k + 7], S23, 1735328473);
            b = GG(b, c, d, a, x[k + 12], S24, 2368359562);
            a = HH(a, b, c, d, x[k + 5], S31, 4294588738);
            d = HH(d, a, b, c, x[k + 8], S32, 2272392833);
            c = HH(c, d, a, b, x[k + 11], S33, 1839030562);
            b = HH(b, c, d, a, x[k + 14], S34, 4259657740);
            a = HH(a, b, c, d, x[k + 1], S31, 2763975236);
            d = HH(d, a, b, c, x[k + 4], S32, 1272893353);
            c = HH(c, d, a, b, x[k + 7], S33, 4139469664);
            b = HH(b, c, d, a, x[k + 10], S34, 3200236656);
            a = HH(a, b, c, d, x[k + 13], S31, 681279174);
            d = HH(d, a, b, c, x[k + 0], S32, 3936430074);
            c = HH(c, d, a, b, x[k + 3], S33, 3572445317);
            b = HH(b, c, d, a, x[k + 6], S34, 76029189);
            a = HH(a, b, c, d, x[k + 9], S31, 3654602809);
            d = HH(d, a, b, c, x[k + 12], S32, 3873151461);
            c = HH(c, d, a, b, x[k + 15], S33, 530742520);
            b = HH(b, c, d, a, x[k + 2], S34, 3299628645);
            a = II(a, b, c, d, x[k + 0], S41, 4096336452);
            d = II(d, a, b, c, x[k + 7], S42, 1126891415);
            c = II(c, d, a, b, x[k + 14], S43, 2878612391);
            b = II(b, c, d, a, x[k + 5], S44, 4237533241);
            a = II(a, b, c, d, x[k + 12], S41, 1700485571);
            d = II(d, a, b, c, x[k + 3], S42, 2399980690);
            c = II(c, d, a, b, x[k + 10], S43, 4293915773);
            b = II(b, c, d, a, x[k + 1], S44, 2240044497);
            a = II(a, b, c, d, x[k + 8], S41, 1873313359);
            d = II(d, a, b, c, x[k + 15], S42, 4264355552);
            c = II(c, d, a, b, x[k + 6], S43, 2734768916);
            b = II(b, c, d, a, x[k + 13], S44, 1309151649);
            a = II(a, b, c, d, x[k + 4], S41, 4149444226);
            d = II(d, a, b, c, x[k + 11], S42, 3174756917);
            c = II(c, d, a, b, x[k + 2], S43, 718787259);
            b = II(b, c, d, a, x[k + 9], S44, 3951481745);
            a = _2c0(a, AA);
            b = _2c0(b, BB);
            c = _2c0(c, CC);
            d = _2c0(d, DD);
        }
        var temp = _2cc(a) + _2cc(b) + _2cc(c) + _2cc(d);
        return temp.toLowerCase();
    }
}; /*  |xGv00|51821a89150376ce39470cce694f003d */